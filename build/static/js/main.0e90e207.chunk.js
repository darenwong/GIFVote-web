(this["webpackJsonpvote-app"]=this["webpackJsonpvote-app"]||[]).push([[0],{204:function(t,e,n){},206:function(t,e,n){},330:function(t,e,n){},331:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),r=n(177),o=n(414),c=n(12),s=n.n(c),l=(n(204),n(24)),u=n.n(l),d=n(35),j=n(7),b=(n(206),n(419)),h=n(335),p=n(389),m=n(11),f=n(152),g=n.n(f),O=(n(4),n(391)),x=n(415),v=n(334),y=n(394),k=n(420),w=n(395),C=n(396),S=n(397),P=n(398),D=n(178),N=n(401),A=n(402),G=n(404),B=n(400),z=n(417),R=n(403),I=n(393),T=n(76),V=n(2),U={maintainAspectRatio:!1,responsive:!1,indexAxis:"y",scales:{x:{display:!1,grid:{display:!1},ticks:{stepSize:1}},y:{grid:{display:!1},ticks:{autoSkip:!1,stepSize:2}}},elements:{bar:{borderWidth:2,borderRadius:100}},plugins:{legend:{display:!1,position:"right"},title:{display:!1,text:"Chart.js Horizontal Bar Chart"}}},L=function(t,e){return JSON.stringify(t.data)==JSON.stringify(e.data)},H=i.a.memo((function(t){t.getElementAtEvent;var e=t.data;return Object(V.jsx)(T.a,{data:e,options:U,style:{width:"80%",marginLeft:"auto",marginRight:"auto",overflow:"hidden"}})}),L),X=n(96),W=n.n(X),Z=n(165),Q=n.n(Z),M=n(19),q=i.a.createContext();function F(){return Object(a.useContext)(q)}function K(t){var e=t.children,n=Object(a.useState)(!1),i=Object(j.a)(n,2),r=i[0],o=i[1],c=Object(a.useState)(""),s=Object(j.a)(c,2),l=s[0],u=s[1];return Object(V.jsx)(q.Provider,{value:{signInOpen:r,setSignInOpen:o,signInMsg:l,setSignInMsg:u},children:e})}var E=n(15),Y=i.a.createContext(),J="https://gif-vote.herokuapp.com";function _(){return Object(a.useContext)(Y)}function $(t){var e=t.children,n=Object(a.useState)(!1),i=Object(j.a)(n,2),r=(i[0],i[1],Object(a.useState)("")),o=Object(j.a)(r,2),c=(o[0],o[1],Object(a.useState)([])),s=Object(j.a)(c,2),l=s[0],b=s[1],h=Object(a.useRef)(10),p=Object(a.useState)(!0),m=Object(j.a)(p,2),f=m[0],g=m[1],O=Object(a.useState)(0),x=Object(j.a)(O,2),v=x[0],y=x[1],k=Object(a.useState)("507"),w=Object(j.a)(k,2),C=w[0],S=w[1],P=Object(M.b)(),D=(P.isAuthenticated,P.user,P.logout),N=(P.isLoading,Object(a.useState)("vote")),A=Object(j.a)(N,2),G=A[0],B=A[1];Object(a.useEffect)((function(){R()}),[v,G]);var z=function(){return new Promise((function(t,e){l.length>h.current||!f||fetch("".concat(J,"/api-vote/?user_id=").concat(C,"&result=").concat(h.current,"&isPersonal=").concat(v,"&sortBy=").concat(G)).then((function(t){return t.json()})).then((function(e){for(var n={},a=0;a<e.length;a++){var i=e[a],r=i.poll_id,o=i.poll_text,c=i.gifurl,s=i.gifimage,u=i.gifheight,d=i.gifwidth,j=i.option_id,h=i.option_name,p=i.votecount,m=i.totalvotecount,f=i.created_by,O=i.user_avatar,x=i.created_at,v=i.isvoted_bool,y=i.isvoted_option_id,k=i.comment_count,w=i.num_likes,C=i.user_liked;r in n||(n[r]={poll_text:o,poll_id:r,gifURL:c,gifimage:s,gifHeight:u,gifWidth:d,totalVoteCount:m,created_by:f,user_avatar:O,created_at:x,options:[],isVoted_bool:v,isVoted_option_id:y,comment_count:k,num_likes:w,user_liked:C,chartData:{labels:[],datasets:[{barThickness:10,maxBarThickness:10,label:"# of Votes",data:[],backgroundColor:[]}]},voteData:[]}),n[r].options.push({option_id:j,option_name:h,voteCount:p}),n[r].voteData.push({option_id:j,text:h,votes:Number(p),backgroundColor:y==j?"rgba(34, 191, 160, 1)":"rgba(10, 10, 10, 0.5)"})}for(var S=Object.keys(n),P=function(t){var e=S[t];n[e].voteData.sort((function(t,e){return e.votes-t.votes})),n[e].voteData.map((function(t){var a=t.text,i=t.votes,r=t.backgroundColor;n[e].chartData.labels.push(a),n[e].chartData.datasets[0].data.push(i),n[e].chartData.datasets[0].backgroundColor.push(r)}))},D=0;D<S.length;D++)P(D);var N=Object.values(n);switch(G){case"vote":N.sort((function(t,e){return e.totalVoteCount-t.totalVoteCount}));break;case"time":N.sort((function(t,e){return e.poll_id-t.poll_id}));break;case"like":N.sort((function(t,e){return e.num_likes-t.num_likes}))}b([].concat(Object(E.a)(l),Object(E.a)(N))),0==N.length&&g(!1),t(l)})).catch(e)}))},R=function(){h.current=10,g(!0),b([])},I=function(t){return new Promise((function(e,n){fetch("".concat(J,"/api-vote-update/?user_id=").concat(C,"&poll_id=").concat(t,"&isPersonal=").concat(v)).then((function(t){return t.json()})).then((function(n){for(var a={},i=0;i<n.length;i++){var r=n[i],o=r.poll_id,c=r.poll_text,s=r.gifurl,u=r.gifimage,d=r.gifheight,j=r.gifwidth,h=r.option_id,p=r.option_name,m=r.votecount,f=r.totalvotecount,g=r.created_by,O=r.user_avatar,x=r.created_at,v=r.isvoted_bool,y=r.isvoted_option_id,k=r.comment_count,w=r.num_likes,C=r.user_liked;o in a||(a[o]={poll_text:c,poll_id:o,gifURL:s,gifimage:u,gifHeight:d,gifWidth:j,totalVoteCount:f,created_by:g,user_avatar:O,created_at:x,options:[],isVoted_bool:v,isVoted_option_id:y,comment_count:k,num_likes:w,user_liked:C,chartData:{labels:[],datasets:[{barThickness:10,maxBarThickness:10,label:"# of Votes",data:[],backgroundColor:[]}]},voteData:[]}),a[o].options.push({option_id:h,option_name:p,voteCount:m}),a[o].voteData.push({option_id:h,text:p,votes:Number(m),backgroundColor:y==h?"rgba(34, 191, 160, 1)":"rgba(10, 10, 10, 0.5)"})}for(var S=Object.keys(a),P=function(t){var e=S[t];a[e].voteData.sort((function(t,e){return e.votes-t.votes})),a[e].voteData.map((function(t){var n=t.text,i=t.votes,r=t.backgroundColor;a[e].chartData.labels.push(n),a[e].chartData.datasets[0].data.push(i),a[e].chartData.datasets[0].backgroundColor.push(r)}))},D=0;D<S.length;D++)P(D);for(var N=JSON.parse(JSON.stringify(l)),A=0;A<N.length;A++)if(N[A].poll_id==t){N[A]=JSON.parse(JSON.stringify(a[t]));break}b(JSON.parse(JSON.stringify(N))),e(N)})).catch(n)}))};return Object(V.jsx)(Y.Provider,{value:{data:l,getUserData:function(t){return new Promise((function(e,n){fetch("".concat(J,"/api-get-user/?user_email=").concat(t.email,"&user_name=").concat(t.nickname,"&user_avatar=").concat(t.picture),{method:"POST"}).then((function(t){return t.json()})).then((function(t){t&&t[0]&&t[0].id?(S(String(t[0].id)),R()):D(),e(t)})).catch(n)}))},getDataset:z,updateDataset:I,refreshDataset:R,handleFetchMoreData:function(){l.length<h.current||(h.current+=10,z())},handleFetchMoreDataPromise:function(){return new Promise((function(t,e){l.length<h.current&&e("cancel fetch more data"),h.current+=10,z().then((function(){return t("OK")})).catch(e)}))},isPersonal:v,setIsPersonal:y,hasMore:f,userId:C,setSortBy:B,submitVote:function(t){var e=t.user_id,n=t.poll_id,a=t.option_id;return new Promise((function(t,i){fetch("".concat(J,"/api-update/?user_id=").concat(e,"&poll_id=").concat(n,"&option_id=").concat(a),{method:"POST"}).then((function(t){t.json()})).then((function(e){I(n),t("OK")})).catch(i)}))},getComments:function(t){return new Promise((function(e,n){fetch("".concat(J,"/api-comments/?poll_id=").concat(t)).then((function(t){return t.json()})).then((function(t){e(t)})).catch(n)}))},submitComment:function(t){var e=t.user_id,n=t.poll_id,a=t.comment;return new Promise((function(t,i){fetch("".concat(J,"/api-insert-comments/?poll_id=").concat(n,"&user_id=").concat(e,"&comment_text=").concat(a),{method:"POST"}).then((function(t){return t.json()})).then(function(){var e=Object(d.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(n),t("OK");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(i)}))},submitLike:function(t){var e=t.poll_id,n=t.user_id;return new Promise((function(t,a){fetch("".concat(J,"/api-insert-like/?poll_id=").concat(e,"&user_id=").concat(n),{method:"POST"}).then((function(t){return t.json()})).then((function(n){I(e),t("OK")})).catch(a)}))},submitPoll:function(t){var e=t.user_id,n=t.question,a=t.options;return new Promise((function(t,i){fetch("".concat(J,"/api-new-poll/?user_id=").concat(e,"&question=").concat(n,"&options=").concat(a),{method:"POST"}).then((function(t){return t.json()})).then((function(e){t("OK")})).catch(i)}))}},children:e})}var tt=n(98),et=n(97),nt=n.n(et),at=n(166),it=n.n(at),rt=n(164),ot=n.n(rt),ct=n(163),st=n.n(ct),lt=n(161),ut=n.n(lt),dt=n(162),jt=n.n(dt),bt=n(75),ht=n.n(bt),pt=n(155),mt=Object(p.a)((function(t){var e,n;return{root:{width:"50vw",minWidth:"300px",maxWidth:"600px",marginBottom:"auto",marginTop:"auto"},avatar:{margin:t.spacing(1)},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14,opacity:1},"@keyframes fade":{"0%, 100%":{opacity:0},"50%":{opacity:1}},pos:{marginBottom:12},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},button:{margin:t.spacing(1),textTransform:"none"},buttonGroup:{display:"block"},buttonGroupContainer:(e={margin:t.spacing(1)},Object(m.a)(e,t.breakpoints.down("md"),{height:"100px"}),Object(m.a)(e,t.breakpoints.up("md"),{height:"200px"}),Object(m.a)(e,"overflowY","auto"),Object(m.a)(e,"overflowX","hidden"),Object(m.a)(e,"display","flex"),Object(m.a)(e,"justifyContent","center"),Object(m.a)(e,"alignItems","center"),e),barChart:(n={},Object(m.a)(n,t.breakpoints.down("md"),{height:"100px"}),Object(m.a)(n,t.breakpoints.up("md"),{height:"200px"}),Object(m.a)(n,"width","90%"),Object(m.a)(n,"overflowY","scroll"),Object(m.a)(n,"overflowX","hidden"),Object(m.a)(n,"padding","unset"),Object(m.a)(n,"paddingLeft",t.spacing(2)),Object(m.a)(n,"paddingRight",t.spacing(2)),n),subtitle:{display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",verticalAlign:"middle"},comment:{marginLeft:"auto",textTransform:"none"},commentBox:{display:"flex",marginTop:t.spacing(2)},like:{marginRight:"auto",marginLeft:"auto",textTransform:"none"},list:{maxHeight:"50vh",overflow:"scroll",backgroundColor:"#f5f5f5"},moreButton:{marginLeft:"auto",padding:t.spacing(.5)},titleBox:{display:"flex",alignItems:"flex-start"},vote:{marginRight:"auto",textTransform:"none"}}})),ft=function(t){var e=t.gifURL,n=t.gifimage,i=t.gifHeight,r=t.gifWidth,o=(t.addCount,t.title),c=t.created_by,s=t.user_avatar,l=t.created_at,u=t.user_id,d=(t.winner,t.data),b=t.poll_id,h=t.isVoted_bool,p=(t.isVoted_option_id,t.chartData),m=t.totalVoteCount,f=t.comment_count,g=t.num_likes,S=t.user_liked,P=mt(),D=(Object(a.useRef)(null),Object(a.useState)(!1)),N=Object(j.a)(D,2);N[0],N[1];return Object(V.jsxs)(O.a,{className:P.root,variant:"outlined",children:[Object(V.jsx)(I.a,{children:Object(V.jsxs)(x.a,{className:P.titleBox,children:[Object(V.jsxs)(v.a,{children:[Object(V.jsx)(y.a,{children:Object(V.jsx)(k.a,{alt:"Guest",className:P.avatar,src:s,children:Object(V.jsx)(ht.a,{})})}),Object(V.jsx)(w.a,{primary:o,secondary:c+" "+St(l)+" ago"})]}),Object(V.jsx)(vt,{})]})}),Object(V.jsx)(gt,{gifURL:e,gifimage:n,gifHeight:i,gifWidth:r}),Object(V.jsx)(Ot,{user_id:u,poll_id:b,data:d,isVoted_bool:h,chartData:p}),Object(V.jsx)(C.a,{}),Object(V.jsx)(yt,{poll_id:b,user_id:u,totalVoteCount:m,user_liked:S,num_likes:g,comment_count:f})]})},gt=function(t){var e=t.gifURL,n=t.gifimage,i=t.gifHeight,r=t.gifWidth,o=Object(tt.a)(),c=Object(j.a)(o,2),s=c[0],l=(c[1],.9*Math.min(600,Math.max(300,.5*s))),u=i*l/r,d=Object(a.useState)(!1),b=Object(j.a)(d,2),h=b[0],p=b[1],m=Object(a.useRef)();return Object(V.jsx)(V.Fragment,{children:Object(V.jsx)(pt.a,{onEnter:function(){p(!0),setTimeout((function(){m&&m.current&&m.current.handleClickPreview()}),1e3)},onLeave:function(){p(!1),m.current.showPreview()},fireOnRapidScroll:!1,children:Object(V.jsx)("div",{children:Object(V.jsx)(g.a,{ref:m,width:l,height:u,style:{marginLeft:"auto",marginRight:"auto"},url:e,playing:h,loop:!0,muted:!0,playsinline:!0,light:n})})})})},Ot=function(t){var e=t.data,n=t.isVoted_bool,a=t.chartData,i=t.user_id,r=t.poll_id,o=mt();return Object(V.jsxs)(V.Fragment,{children:[1==n&&Object(V.jsx)(I.a,{className:o.barChart,children:Object(V.jsx)(H,{data:a})}),0==n&&Object(V.jsx)(x.a,{className:o.buttonGroupContainer,children:Object(V.jsx)(x.a,{className:o.buttonGroup,children:e.map((function(t){return Object(V.jsx)(xt,{text:t.text,option_id:t.option_id,user_id:i,poll_id:r},t.option_id)}))})})]})},xt=function(t){var e=t.text,n=t.option_id,a=(t.user_id,t.poll_id),i=mt(),r=_(),o=r.submitVote,c=r.userId,s=Object(M.b)().isAuthenticated,l=F(),j=l.setSignInOpen,b=l.setSignInMsg,h=function(){var t=Object(d.a)(u.a.mark((function t(e,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s){t.next=4;break}return b("Sign in to vote"),j(!0),t.abrupt("return");case 4:return t.next=6,o({user_id:c,poll_id:a,option_id:n});case 6:t.sent;case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return Object(V.jsx)(S.a,{variant:"outlined",color:"primary",className:i.button,onClick:function(t){return h(t,n)},children:e})},vt=function(){var t=mt(),e=Object(a.useState)(null),n=Object(j.a)(e,2),i=n[0],r=n[1];return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(P.a,{className:t.moreButton,onClick:function(t){r(t.currentTarget)},children:Object(V.jsx)(ut.a,{})}),Object(V.jsxs)(D.a,{id:"simple-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:function(){r(null)},children:[!1,Object(V.jsx)(N.a,{children:Object(V.jsxs)(S.a,{href:"mailto:gifvote0@gmail.com",style:{textTransform:"none"},children:[Object(V.jsx)(A.a,{children:Object(V.jsx)(jt.a,{})}),Object(V.jsx)(w.a,{children:"Report"})]})})]})]})},yt=function(t){var e=t.poll_id,n=t.user_id,i=t.totalVoteCount,r=t.user_liked,o=t.num_likes,c=t.comment_count,s=mt(),l=Object(a.useState)(!1),b=Object(j.a)(l,2),h=b[0],p=b[1],m=Object(a.useState)([]),f=Object(j.a)(m,2),g=f[0],O=f[1],v=Object(M.b)(),y=v.isAuthenticated,w=v.user,P=F(),D=P.setSignInOpen,N=P.setSignInMsg,A=_(),B=A.getComments,z=A.submitComment,T=A.userId,U=function(){var t=Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=h){t.next=5;break}return t.next=3,B(e);case 3:(n=t.sent)&&O(n);case 5:p(!h);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),L=function(){var t=Object(d.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(y){t.next=4;break}return N("Sign in to comment"),D(!0),t.abrupt("return");case 4:return t.next=6,z({poll_id:e,user_id:T,comment:n});case 6:if("OK"!=t.sent){t.next=12;break}return t.next=10,B(e);case 10:(a=t.sent)&&O(a);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(R.a,{disableSpacing:!0,children:[Object(V.jsxs)(S.a,{className:s.vote,startIcon:Object(V.jsx)(W.a,{}),children:[i," ",1==i?" Vote":"Votes"]}),Object(V.jsx)(Ct,{user_liked:r,num_likes:o,poll_id:e,user_id:n}),Object(V.jsxs)(S.a,{className:s.comment,onClick:U,startIcon:1==h?Object(V.jsx)(st.a,{color:"primary"}):Object(V.jsx)(ot.a,{}),children:[c," ",1==c?" Comment":"Comments"]})]}),Object(V.jsx)(G.a,{open:h,onClose:function(){return p(!1)},children:Object(V.jsxs)(I.a,{children:[Object(V.jsx)(kt,{comments:g}),Object(V.jsx)(C.a,{}),Object(V.jsxs)(x.a,{className:s.commentBox,children:[y&&Object(V.jsx)(k.a,{src:w.picture,alt:w.name,className:s.avatar}),!y&&Object(V.jsx)(k.a,{alt:"Guest",className:s.avatar,children:Object(V.jsx)(ht.a,{})}),Object(V.jsx)(wt,{handleSubmitComment:L})]})]})})]})},kt=function(t){var e=t.comments,n=mt();return Object(V.jsx)(B.a,{className:n.list,dense:!0,children:e.map((function(t,e){var n=t.user_name,a=t.created_at,i=t.user_avatar,r=t.comment_text;return Object(V.jsxs)(v.a,{children:[Object(V.jsx)(y.a,{children:Object(V.jsx)(k.a,{src:i})}),Object(V.jsx)(w.a,{secondary:n+" "+St(a)+" ago",primary:r})]},e)}))})},wt=function(t){var e=t.handleSubmitComment,n=Object(a.useState)(""),i=Object(j.a)(n,2),r=i[0],o=i[1];return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(z.a,{label:"Add a comment...",variant:"outlined",value:r,onChange:function(t){t.preventDefault(),o(t.target.value)},fullWidth:!0}),Object(V.jsx)(P.a,{color:"primary",onClick:function(){e(r).then((function(){return o("")}))},children:Object(V.jsx)(Q.a,{})})]})},Ct=function(t){var e=t.user_liked,n=t.num_likes,a=t.poll_id,i=(t.user_id,mt()),r=_(),o=r.submitLike,c=r.userId,s=Object(M.b)().isAuthenticated,l=F(),j=l.setSignInOpen,b=l.setSignInMsg,h=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s){t.next=4;break}return b("Sign in to like"),j(!0),t.abrupt("return");case 4:return t.next=6,o({poll_id:a,user_id:c});case 6:t.sent;case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(V.jsxs)(S.a,{className:i.like,onClick:h,startIcon:1==e?Object(V.jsx)(it.a,{color:"secondary"}):Object(V.jsx)(nt.a,{}),children:[n," ",1==n?" Like":"Likes"]})},St=function(t){var e=new Date(t),n=new Date,a=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()),i=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds()),r=Math.floor((i-a)/1e3),o=Math.floor((i-a)/864e5);return r<60?Math.round(r)+"s":r<3600?Math.round(r/60)+"m":r<86400?Math.round(r/3600)+"h":o<7?Math.round(o)+"d":o<365?Math.round(o/7)+"w":Math.round(o/365)+"y"},Pt=n(410),Dt=n(409),Nt=n(408),At=n(168),Gt=n.n(At),Bt=n(169),zt=n.n(Bt),Rt=n(170),It=n.n(Rt),Tt=n(18),Vt=Object(p.a)((function(t){return{root:{},button:{transform:"scale(2)"},optionContainer:{display:"flex",justifyContent:"center"},addOptionButton:{textTransform:"none",margin:t.spacing(1)},formButton:{textTransform:"none"}}}));function Ut(){var t=Vt(),e=Object(a.useState)(!1),n=Object(j.a)(e,2),i=n[0],r=n[1],o=Object(a.useState)([{val:"",err:""},{val:"",err:""}]),c=Object(j.a)(o,2),s=c[0],l=c[1],b=Object(a.useState)({val:"",err:""}),h=Object(j.a)(b,2),p=h[0],m=h[1],f=Object(M.b)(),g=(f.loginWithRedirect,f.isAuthenticated),O=F(),v=O.setSignInOpen,y=O.setSignInMsg,k=_(),w=k.refreshDataset,C=k.submitPoll,D=k.userId,N=Object(Tt.f)(),A=function(){l([{val:"",err:""},{val:"",err:""}]),m({val:"",err:""}),r(!1)},B=function(){var t=Object(d.a)(u.a.mark((function t(){var e,n,a,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=p.val.trim()){t.next=3;break}return m({val:p.val,err:"Cannot be blank"}),t.abrupt("return");case 3:e=0;case 4:if(!(e<s.length)){t.next=13;break}if(""!=s[e].val.trim()){t.next=10;break}return(n=Object(E.a)(s))[e].err="Cannot be blank",l(n),t.abrupt("return");case 10:e++,t.next=4;break;case 13:for(a=Object(E.a)(s),i=0;i<a.length;i++)a[i]=a[i].val.trim();return t.next=17,C({user_id:D,question:p.val.trim(),options:JSON.stringify(a)});case 17:"OK"==t.sent&&(w(),A(),N.push("/your"));case 19:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(V.jsxs)("div",{className:t.root,children:[Object(V.jsx)(P.a,{color:"primary","aria-label":"new poll",component:"span",onClick:function(){if(!g)return y("Sign in to create poll"),void v(!0);r(!0)},className:t.button,children:Object(V.jsx)(Gt.a,{})}),Object(V.jsxs)(G.a,{open:i,onClose:A,"aria-labelledby":"form-dialog-title",children:[Object(V.jsx)(Nt.a,{id:"form-dialog-title",children:"Create New Poll"}),Object(V.jsxs)(Dt.a,{children:[Object(V.jsx)(z.a,{autoFocus:!0,error:""!=p.err,helperText:p.err,margin:"dense",id:"name",label:"Question",value:p.val,onChange:function(t){return m({val:t.target.value.slice(0,Math.min(t.target.value.length,50)),err:""})},fullWidth:!0}),s.map((function(e,n){var a=e.val,i=e.err;return Object(V.jsxs)(x.a,{className:t.optionContainer,children:[Object(V.jsx)(z.a,{error:""!=i,helperText:i,margin:"dense",id:"name",label:"Option "+(n+1),value:a,onChange:function(t){return function(t,e){if(t.preventDefault(),!(t.target.value.length>20)){var n=Object(E.a)(s);n[e]={val:t.target.value,err:""},l(n),console.log(t.target.value,e)}}(t,n)},fullWidth:!0}),Object(V.jsx)(P.a,{"aria-label":"delete",onClick:function(t){return function(t,e){t.preventDefault();var n=Object(E.a)(s);n.splice(e,1),l(n)}(t,n)},disabled:n in[0,1],children:Object(V.jsx)(zt.a,{})})]},n)})),Object(V.jsx)(S.a,{className:t.addOptionButton,variant:"outlined",color:"primary",startIcon:Object(V.jsx)(It.a,{}),onClick:function(){s.length<10&&l([].concat(Object(E.a)(s),[{val:"",err:""}]))},disabled:s.length>=10,children:"Add Option"})]}),Object(V.jsxs)(Pt.a,{children:[Object(V.jsx)(S.a,{onClick:A,color:"secondary",variant:"outlined",className:t.formButton,children:"Cancel"}),Object(V.jsx)(S.a,{onClick:B,color:"primary",variant:"contained",className:t.formButton,children:"Create"})]})]})]})}n(407),n(416),Object(p.a)((function(t){return{formControl:{margin:t.spacing(1),minWidth:120},selectEmpty:{marginTop:t.spacing(2)}}}));var Lt=n(411),Ht=n(413),Xt=n(412),Wt=n(172),Zt=n.n(Wt),Qt=(n(418),n(122)),Mt=n(174),qt=n.n(Mt),Ft=n(175),Kt=n.n(Ft),Et=n(173),Yt=n.n(Et),Jt=(n(117),n(171),n(53)),_t=Object(p.a)((function(t){return{root:{flexGrow:1},menuButton:{marginRight:t.spacing(2)},title:{flexGrow:1,color:"black"},toolbar:{backgroundColor:"#fafafa"},passiveLink:{display:"flex",alignItems:"center",color:"rgba(0, 0, 0, 0.54)",textDecoration:"none","&:hover":{textDecoration:"underline"}},activeLink:{display:"flex",color:"rgba(34, 191, 160, 1)",textDecoration:"underline"},loginButton:{marginLeft:t.spacing(2)},breadcrumbs:{marginLeft:"auto"},logo:{height:"35px",width:"auto",maxWidth:"50vw",margin:t.spacing(1)},icon:{marginRight:t.spacing(.5),width:20,height:20}}}));function $t(t){t.isOpen,t.setIsOpen;var e=_t(),n=i.a.useState(!0),a=Object(j.a)(n,2),r=(a[0],a[1],i.a.useState(null)),o=Object(j.a)(r,2),c=o[0],s=(o[1],Boolean(c),Object(M.b)());s.loginWithRedirect,s.logout,s.isAuthenticated,s.user;return Object(V.jsx)("div",{className:e.root,children:Object(V.jsx)(Lt.a,{position:"fixed",children:Object(V.jsxs)(Xt.a,{className:e.toolbar,children:[Object(V.jsx)(te,{}),Object(V.jsx)("img",{className:e.logo,alt:"GIF Vote",src:"data:image/png;base64,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"}),!1]})})})}var te=function(){var t=_t(),e=Object(a.useState)(!1),n=Object(j.a)(e,2),i=n[0],r=n[1],o=Object(M.b)(),c=o.isAuthenticated,s=o.user,l=o.loginWithRedirect,u=o.logout;return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(P.a,{edge:"start",className:t.menuButton,"aria-label":"menu",onClick:function(){return r(!i)},children:Object(V.jsx)(Zt.a,{})}),Object(V.jsx)(Ht.a,{anchor:"left",open:i,onClose:function(){r(!1)},children:Object(V.jsxs)(B.a,{children:[Object(V.jsxs)(v.a,{children:[Object(V.jsxs)(y.a,{children:[c&&Object(V.jsx)(k.a,{src:s.picture,alt:s.name}),!c&&Object(V.jsx)(k.a,{alt:"Guest",children:Object(V.jsx)(ht.a,{})})]}),Object(V.jsx)(w.a,{primary:s?s.name:"Guest",secondary:s?s.email:"Sign in to see your profile"}),c&&Object(V.jsx)(P.a,{className:t.loginButton,onClick:u,children:Object(V.jsx)(Qt.b,{})}),!c&&Object(V.jsx)(P.a,{className:t.loginButton,onClick:l,children:Object(V.jsx)(Qt.a,{})})]}),Object(V.jsx)(C.a,{}),Object(V.jsxs)(v.a,{button:!0,children:[Object(V.jsx)(A.a,{children:Object(V.jsx)(Yt.a,{})}),Object(V.jsx)(w.a,{primary:"Give Feedback",secondary:"Help us improve GIF Votes"})]}),Object(V.jsx)(C.a,{}),Object(V.jsxs)(v.a,{button:!0,children:[Object(V.jsx)(A.a,{children:Object(V.jsx)(qt.a,{})}),Object(V.jsx)(w.a,{primary:"Settings"})]}),Object(V.jsxs)(v.a,{button:!0,children:[Object(V.jsx)(A.a,{children:Object(V.jsx)(Kt.a,{})}),Object(V.jsx)(w.a,{primary:"About"})]})]})})]})},ee=n(77),ne=n(176),ae=n.n(ne),ie=Object(p.a)((function(t){return{root:{},title:{display:"flex",flexDirection:"row"},titleText:{alignSelf:"center",marginRight:t.spacing(2)},closeButton:{marginLeft:"auto",color:t.palette.grey[500]},video:{marginLeft:"auto",marginRight:"auto"},videoContainer:{display:"flex",flexDirection:"column",justifyContent:"center"}}}));var re=function(t){var e=ie(),n=F(),i=n.signInOpen,r=n.setSignInOpen,o=n.signInMsg,c=(n.setSignInMsg,Object(M.b)()),s=c.loginWithRedirect,l=(c.loginWithPopup,c.isAuthenticated);return Object(a.useEffect)((function(){l&&i&&r(!1)}),[l]),Object(V.jsx)("div",{children:Object(V.jsxs)(G.a,{open:i,onClose:function(){r(!1)},className:e.root,children:[Object(V.jsxs)(Nt.a,{disableTypography:!0,className:e.title,children:[Object(V.jsx)(ee.a,{variant:"h4",className:e.titleText,children:o}),Object(V.jsx)(P.a,{"aria-label":"close",className:e.closeButton,onClick:function(){r(!1)},children:Object(V.jsx)(ae.a,{})})]}),Object(V.jsxs)(Dt.a,{dividers:!0,className:e.videoContainer,children:[Object(V.jsx)(ee.a,{gutterBottom:!0,children:"Here's a GIF to start your day!"}),Object(V.jsx)("video",{width:"60%",height:"auto",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:e.video,children:Object(V.jsx)("source",{src:function(){var t=["https://media0.giphy.com/media/xT9DPnxOqFNu0vObyU/giphy-downsized-small.mp4?cid=ecf05e477ybh0yl5kdyzkwyz5g7ljply8vk3ixadsfv9ywjz&rid=giphy-downsized-small.mp4&ct=g","https://media0.giphy.com/media/l2Sq3jYHktALKdQJO/giphy-downsized-small.mp4?cid=ecf05e477ybh0yl5kdyzkwyz5g7ljply8vk3ixadsfv9ywjz&rid=giphy-downsized-small.mp4&ct=g","https://media1.giphy.com/media/ur5T6Wuw4xK2afXVmd/giphy-downsized-small.mp4?cid=ecf05e477ybh0yl5kdyzkwyz5g7ljply8vk3ixadsfv9ywjz&rid=giphy-downsized-small.mp4&ct=g","https://media2.giphy.com/media/26xBSxisb1xYv1dja/giphy-downsized-small.mp4?cid=ecf05e477ybh0yl5kdyzkwyz5g7ljply8vk3ixadsfv9ywjz&rid=giphy-downsized-small.mp4&ct=g","https://media0.giphy.com/media/rVaFLAGrPcmlQR1nmt/giphy-downsized-small.mp4?cid=ecf05e477ybh0yl5kdyzkwyz5g7ljply8vk3ixadsfv9ywjz&rid=giphy-downsized-small.mp4&ct=g","https://media1.giphy.com/media/xT9DPPqwOCoxi3ASWc/giphy-downsized-small.mp4?cid=ecf05e477ybh0yl5kdyzkwyz5g7ljply8vk3ixadsfv9ywjz&rid=giphy-downsized-small.mp4&ct=g","https://media0.giphy.com/media/xT9DPGsywQ5zMfR6KY/giphy-downsized-small.mp4?cid=ecf05e477ybh0yl5kdyzkwyz5g7ljply8vk3ixadsfv9ywjz&rid=giphy-downsized-small.mp4&ct=g","https://media4.giphy.com/media/26n6yBeeXFU8C5j8c/giphy-downsized-small.mp4?cid=ecf05e471vfffwv91zo73j3x8h4q83yeezw44y1j75uf3foo&rid=giphy-downsized-small.mp4&ct=g","https://media4.giphy.com/media/l1BgRkTSJlYgCVqHm/giphy-downsized-small.mp4?cid=ecf05e47lhwhdp46xml09m3af3257q7u8dtvdxamfntftgnh&rid=giphy-downsized-small.mp4&ct=g"];return t[Math.floor(Math.random()*t.length)]}()})})]}),Object(V.jsx)(S.a,{variant:"contained",color:"primary",onClick:s,children:"Sign In"})]})})};n(330);var oe=n(118),ce=n(55),se=n(59),le=Object(p.a)((function(t){return{root:{},loading:{marginTop:"30vh"}}})),ue=function(t){var e=t.index,n=t.style,a=t.data,i=le();if(e==a.length)return Object(V.jsx)(ee.a,{className:i.loading,children:"Loading..."});var r=a[e],o=r.gifURL,c=r.gifimage,s=r.gifHeight,l=r.gifWidth,u=r.userId,d=r.poll_text,j=r.created_by,b=r.user_avatar,h=r.created_at,p=r.winner,m=r.chartData,f=r.voteData,g=r.poll_id,O=r.isVoted_bool,x=r.totalVoteCount,v=r.comment_count,y=r.num_likes,k=r.user_liked;return Object(V.jsx)("div",{style:Object(ce.a)(Object(ce.a)({},n),{display:"flex",justifyContent:"center"}),children:Object(V.jsx)(ft,{gifURL:o,gifimage:c,gifHeight:s,gifWidth:l,user_id:u,title:d,created_by:j,user_avatar:b,created_at:h,winner:p,chartData:m,data:f,poll_id:g,isVoted_bool:O,totalVoteCount:x,comment_count:v,num_likes:y,user_liked:k},e)})},de=function(){var t=_(),e=t.data,n=(t.getUserData,t.getDataset,t.updateDataset,t.refreshDataset,t.handleFetchMoreData,t.handleFetchMoreDataPromise),i=(t.isPersonal,t.setIsPersonal,t.hasMore,t.userId,t.setSortBy,Object(a.useState)(!1)),r=Object(j.a)(i,2),o=(r[0],r[1],Object(a.useState)(!0)),c=Object(j.a)(o,2),s=c[0],l=(c[1],Object(tt.a)()),u=Object(j.a)(l,2),d=u[0],b=u[1],h=function(t){if(t>=e.length)return 120;var n=.9*Math.min(600,Math.max(300,.5*d)),a=e[t].gifHeight*n/e[t].gifWidth;return d>=960&&(a+=100),a+350},p=s?e.length+1:e.length;return Object(V.jsx)(oe.a,{isItemLoaded:function(t){return t<e.length&&null!==e[t]&&0!=t},itemCount:p,loadMoreItems:function(t,e){return new Promise((function(t){n().then((function(){t("OK")})).catch((function(){}))}))},children:function(t){var n=t.onItemsRendered,a=t.ref;return Object(V.jsx)(se.b,{height:b,width:d,itemCount:p,onItemsRendered:n,ref:a,itemSize:h,itemData:e,children:ue})}})},je=Object(p.a)((function(t){return{root:{},paper:{padding:t.spacing(2),textAlign:"center",color:t.palette.text.secondary},gridContainer:{display:"flex",justifyContent:"center",padding:t.spacing(2)},itemContainer:{display:"flex",justifyContent:"center",padding:t.spacing(2)},newPollDialog:{position:"fixed",bottom:"5vmin",right:"5vmin"},infiniteList:{marginTop:t.spacing(8),display:"flex",justifyContent:"center"}}}));var be=function(t){var e=t.personal,n=t.sortBy,i=je(),r=Object(a.useState)(0),o=Object(j.a)(r,2),c=(o[0],o[1],_()),s=(c.data,c.getUserData,c.getDataset,c.updateDataset,c.refreshDataset),l=(c.handleFetchMoreData,c.isPersonal,c.setIsPersonal),u=(c.hasMore,c.userId),d=c.setSortBy;return Object(a.useEffect)((function(){l(e),d(n)}),[e,n]),Object(a.useEffect)((function(){s()}),[u]),Object(V.jsxs)("div",{className:i.root,children:[Object(V.jsx)("div",{className:i.infiniteList,children:Object(V.jsx)(de,{})}),Object(V.jsx)("div",{className:i.newPollDialog,children:Object(V.jsx)(Ut,{})})]})},he=Object(p.a)((function(t){return{root:{}}}));var pe=function(){he();var t=Object(a.useState)(0),e=Object(j.a)(t,2),n=(e[0],e[1],Object(a.useState)(!0)),i=Object(j.a)(n,2),r=i[0],o=i[1],c=Object(M.b)(),s=c.isAuthenticated,l=c.user,p=(c.logout,c.isLoading,_()),m=(p.data,p.getUserData),f=(p.getDataset,p.updateDataset,p.refreshDataset,p.handleFetchMoreData,p.isPersonal,p.setIsPersonal,p.hasMore,p.userId,p.setSortBy,Object(a.useState)(!1)),g=Object(j.a)(f,2),O=g[0],x=g[1];return Object(a.useEffect)(Object(d.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!s){t.next=7;break}return console.log("authenticated!",l),x(!0),t.next=5,m(l);case 5:e=t.sent,console.log("user data",e);case 7:case"end":return t.stop()}}),t)}))),[s]),Object(V.jsx)(Jt.a,{children:Object(V.jsxs)("div",{className:"App",children:[Object(V.jsx)($t,{isOpen:r,setIsOpen:o}),Object(V.jsx)(b.a,{open:O,autoHideDuration:6e3,onClose:function(){return x(!1)},message:"Signed In!",TransitionComponent:h.a}),Object(V.jsx)(re,{}),Object(V.jsxs)(Tt.c,{children:[Object(V.jsx)(Tt.a,{path:"/your",children:Object(V.jsx)(be,{personal:1,sortBy:"time"})}),Object(V.jsx)(Tt.a,{path:"/most-like",children:Object(V.jsx)(be,{personal:0,sortBy:"like"})}),Object(V.jsx)(Tt.a,{path:"/latest",children:Object(V.jsx)(be,{personal:0,sortBy:"time"})}),Object(V.jsx)(Tt.a,{path:"/",children:Object(V.jsx)(be,{personal:0,sortBy:"vote"})})]})]})})},me=function(t){t&&t instanceof Function&&n.e(16).then(n.bind(null,423)).then((function(e){var n=e.getCLS,a=e.getFID,i=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),a(t),i(t),r(t),o(t)}))};T.b.font.family=["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),T.b.font.size=10;var fe="dev-clx9x5qx.us.auth0.com",ge="uYTJLtrI6P2gebu8yDwG5d8wTxUAs9YQ";console.log("domain",fe,ge);var Oe=Object(r.a)({palette:{primary:{main:"#22bfa0"}}});s.a.render(Object(V.jsx)(M.a,{domain:fe,clientId:ge,redirectUri:window.location.origin,children:Object(V.jsx)(K,{children:Object(V.jsx)($,{children:Object(V.jsx)(o.a,{theme:Oe,children:Object(V.jsx)(pe,{})})})})}),document.getElementById("root")),me()}},[[331,14,15]]]);
//# sourceMappingURL=main.0e90e207.chunk.js.map