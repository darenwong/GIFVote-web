{"version":3,"sources":["components/BarChart.js","contexts/SignInContext.js","contexts/SQLContext.js","components/Poll.js","components/PollForm.js","components/DropdownMenu.js","components/TopBar.js","images/gif_vote_logo3.png","components/SignInPage.js","components/PollPage.js","App.js","reportWebVitals.js","index.js"],"names":["options","maintainAspectRatio","responsive","indexAxis","scales","x","display","grid","ticks","stepSize","y","autoSkip","elements","bar","borderWidth","borderRadius","plugins","legend","position","title","text","BarChart","getElementAtEvent","data","style","width","SignInContext","React","createContext","useSignIn","useContext","SignInProvider","children","useState","signInOpen","setSignInOpen","signInMsg","setSignInMsg","Provider","value","SQLContext","ENDPOINT","useSQL","SQLProvider","setData","result","useRef","hasMore","setHasMore","isPersonal","setIsPersonal","userId","setUserId","useAuth0","logout","isAuthenticated","user","isLoading","sortBy","setSortBy","useEffect","console","log","JSON","parse","stringify","length","getDataset","refreshDataset","Promise","resolve","reject","current","fetch","then","res","json","results","temp","i","poll_id","poll_text","gifURL","gifurl","option_id","option_name","voteCount","votecount","totalVoteCount","totalvotecount","created_by","user_avatar","created_at","isVoted_bool","isvoted_bool","isVoted_option_id","isvoted_option_id","comment_count","num_likes","user_liked","chartData","labels","datasets","barThickness","maxBarThickness","label","backgroundColor","voteData","push","votes","Number","poll_keys","Object","keys","sort","a","b","map","arr","values","catch","updateDataset","pollId","data_copy","getUserData","email","nickname","picture","method","id","String","handleFetchMoreData","submitVote","user_id","getComments","submitComment","comment","submitLike","submitPoll","question","useStyles","makeStyles","theme","root","marginBottom","animation","avatar","margin","spacing","bullet","transform","fontSize","opacity","pos","expand","marginLeft","transition","transitions","create","duration","shortest","expandOpen","button","textTransform","buttonGroup","maxHeight","overflow","barChart","subtitle","justifyContent","alignItems","textAlign","verticalAlign","commentBox","marginTop","like","marginRight","list","moreButton","padding","titleBox","vote","areEqual","prev","cur","Poll","memo","addCount","winner","classes","Card","className","variant","CardContent","Box","ListItem","ListItemAvatar","Avatar","alt","src","ListItemText","primary","secondary","getDate","GIFComponent","VoteComponent","Divider","LikeComments","height","loop","muted","autoPlay","playsInline","index","VoteButton","handleVote","event","Button","color","onClick","OptionDropdown","anchorEl","setAnchorEl","IconButton","currentTarget","Menu","keepMounted","open","Boolean","onClose","MenuItem","href","ListItemIcon","expanded","setExpanded","comments","setComments","handleComment","handleSubmitComment","CardActions","disableSpacing","startIcon","LikeButton","Collapse","in","timeout","unmountOnExit","CommentList","name","List","dense","user_name","comment_text","CommentInput","setComment","TextField","onChange","preventDefault","target","fullWidth","handleLike","response","date","Date","utc1","UTC","getFullYear","getMonth","getHours","getMinutes","getSeconds","utc2","sec_diff","Math","floor","day_diff","round","optionContainer","addOptionButton","formButton","FormDialog","setOpen","val","err","setOptions","setQuestion","loginWithRedirect","history","useHistory","handleClose","handleCreatePoll","trim","component","Dialog","DialogTitle","DialogContent","autoFocus","error","helperText","slice","min","handleOptionField","splice","handleDeleteField","disabled","DialogActions","formControl","minWidth","selectEmpty","flexGrow","menuButton","toolbar","passiveLink","textDecoration","activeLink","loginButton","breadcrumbs","logo","maxWidth","icon","MenuAppBar","isOpen","setIsOpen","AppBar","Toolbar","SimpleBreadcrumbs","Breadcrumbs","activeClassName","exact","to","MenuDrawer","edge","Drawer","anchor","flexDirection","titleText","alignSelf","closeButton","palette","grey","video","videoContainer","SignInPage","props","loginWithPopup","disableTypography","Typography","dividers","gutterBottom","choice","random","getMotivationalURL","paper","gridContainer","itemContainer","newPollDialog","bottom","right","PollPage","personal","dataLength","next","loader","endMessage","Grid","container","item","xs","sm","lg","App","snackbarOpen","setSnackbarOpen","Snackbar","autoHideDuration","message","TransitionComponent","Slide","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","defaults","font","family","join","size","domain","process","clientId","createTheme","main","ReactDOM","render","redirectUri","window","location","origin","ThemeProvider","document","getElementById"],"mappings":"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","file":"static/js/main.aa213497.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Bar } from \"react-chartjs-2\";\r\nimport { Button } from \"@material-ui/core\";\r\n\r\nconst options = {\r\n  maintainAspectRatio: false,\r\n  responsive: false,\r\n  indexAxis: \"y\",\r\n  // Elements options apply to all of the options unless overridden in a dataset\r\n  // In this case, we are setting the border of each horizontal bar to be 2px wide\r\n  scales: {\r\n    x: {\r\n      display: false,\r\n      grid: {\r\n        display: false,\r\n      },\r\n      ticks: {\r\n        stepSize: 1,\r\n      },\r\n    },\r\n    y: {\r\n      grid: {\r\n        display: false,\r\n      },\r\n      ticks: {\r\n        autoSkip: false,\r\n        stepSize: 2,\r\n      },\r\n    },\r\n  },\r\n  elements: {\r\n    bar: {\r\n      borderWidth: 2,\r\n      borderRadius: 100,\r\n    },\r\n  },\r\n  plugins: {\r\n    legend: {\r\n      display: false,\r\n      position: \"right\",\r\n    },\r\n    title: {\r\n      display: false,\r\n      text: \"Chart.js Horizontal Bar Chart\",\r\n    },\r\n  },\r\n};\r\n\r\nconst areEqual = (prev, cur) => {\r\n  return JSON.stringify(prev.data) == JSON.stringify(cur.data);\r\n};\r\n\r\nconst BarChart = ({ getElementAtEvent, data }) => {\r\n  return <Bar data={data} options={options} style={{ width: \"100%\" }} />;\r\n};\r\n\r\nexport default BarChart;\r\n/*\r\nconst BarChart = React.memo(({ getElementAtEvent, data }) => {\r\n  return <Bar data={data} options={options} style={{ width: \"100%\" }} />;\r\n}, areEqual);\r\n\r\nexport default BarChart;\r\n*/\r\n","import React, { useContext, useState } from \"react\";\r\nconst SignInContext = React.createContext();\r\n\r\nexport function useSignIn() {\r\n  return useContext(SignInContext);\r\n}\r\n\r\nexport function SignInProvider({ children }) {\r\n  const [signInOpen, setSignInOpen] = useState(false);\r\n  const [signInMsg, setSignInMsg] = useState(\"\");\r\n\r\n  return (\r\n    <SignInContext.Provider\r\n      value={{ signInOpen, setSignInOpen, signInMsg, setSignInMsg }}\r\n    >\r\n      {children}\r\n    </SignInContext.Provider>\r\n  );\r\n}\r\n","import React, { useContext, useState, useEffect, useRef } from \"react\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nconst SQLContext = React.createContext();\r\nconst ENDPOINT = \"https://gif-vote.herokuapp.com\";\r\n\r\nexport function useSQL() {\r\n  return useContext(SQLContext);\r\n}\r\n\r\nexport function SQLProvider({ children }) {\r\n  const [signInOpen, setSignInOpen] = useState(false);\r\n  const [signInMsg, setSignInMsg] = useState(\"\");\r\n  const [data, setData] = useState([]);\r\n  const result = useRef(10);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const [isPersonal, setIsPersonal] = useState(0);\r\n  const [userId, setUserId] = useState(\"507\");\r\n  const { isAuthenticated, user, logout, isLoading } = useAuth0();\r\n  const [sortBy, setSortBy] = useState(\"vote\");\r\n\r\n  useEffect(() => {\r\n    console.log(\"change\", JSON.parse(JSON.stringify(data)));\r\n    if (data.length == 0) {\r\n      getDataset();\r\n    }\r\n  }, [data]);\r\n\r\n  useEffect(() => {\r\n    refreshDataset();\r\n  }, [isPersonal, sortBy]);\r\n\r\n  const getUserData = (user) => {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(\r\n        `${ENDPOINT}/api-get-user/?user_email=${user.email}&user_name=${user.nickname}&user_avatar=${user.picture}`,\r\n        { method: \"POST\" }\r\n      )\r\n        .then((res) => {\r\n          console.log(res);\r\n          return res.json();\r\n        })\r\n        .then((results) => {\r\n          console.log(\"userId = \", results);\r\n          if (results && results[0] && results[0].id) {\r\n            setUserId(String(results[0].id));\r\n          } else {\r\n            logout();\r\n          }\r\n          resolve(results);\r\n        })\r\n        .catch(reject);\r\n    });\r\n  };\r\n\r\n  const getDataset = () => {\r\n    return new Promise((resolve, reject) => {\r\n      console.log(\"getting data\", data.length, result.current);\r\n      if (data.length > result.current || !hasMore) {\r\n        return;\r\n      }\r\n\r\n      console.log(\"calling API\", result.current);\r\n      fetch(\r\n        `${ENDPOINT}/api-vote/?user_id=${userId}&result=${result.current}&isPersonal=${isPersonal}&sortBy=${sortBy}`\r\n      )\r\n        .then((res) => res.json())\r\n        .then((results) => {\r\n          console.log(\"success\", results);\r\n          let temp = {};\r\n          for (let i = 0; i < results.length; i++) {\r\n            let {\r\n              poll_id,\r\n              poll_text,\r\n              gifurl: gifURL,\r\n              option_id,\r\n              option_name,\r\n              votecount: voteCount,\r\n              totalvotecount: totalVoteCount,\r\n              created_by,\r\n              user_avatar,\r\n              created_at,\r\n              isvoted_bool: isVoted_bool,\r\n              isvoted_option_id: isVoted_option_id,\r\n              comment_count,\r\n              num_likes,\r\n              user_liked,\r\n            } = results[i];\r\n            if (!(poll_id in temp)) {\r\n              temp[poll_id] = {\r\n                poll_text,\r\n                poll_id,\r\n                gifURL,\r\n                totalVoteCount,\r\n                created_by,\r\n                user_avatar,\r\n                created_at,\r\n                options: [],\r\n                isVoted_bool,\r\n                isVoted_option_id,\r\n                comment_count,\r\n                num_likes,\r\n                user_liked,\r\n                chartData: {\r\n                  labels: [],\r\n                  datasets: [\r\n                    {\r\n                      barThickness: 10,\r\n                      maxBarThickness: 10,\r\n                      label: \"# of Votes\",\r\n                      data: [],\r\n                      backgroundColor: [],\r\n                    },\r\n                  ],\r\n                },\r\n                voteData: [],\r\n              };\r\n            }\r\n\r\n            temp[poll_id].options.push({ option_id, option_name, voteCount });\r\n\r\n            temp[poll_id].voteData.push({\r\n              option_id: option_id,\r\n              text: option_name,\r\n              votes: Number(voteCount),\r\n              backgroundColor:\r\n                isVoted_option_id == option_id\r\n                  ? \"rgba(34, 191, 160, 1)\"\r\n                  : \"rgba(10, 10, 10, 0.5)\",\r\n            });\r\n          }\r\n\r\n          let poll_keys = Object.keys(temp);\r\n          for (let i = 0; i < poll_keys.length; i++) {\r\n            let poll_id = poll_keys[i];\r\n            temp[poll_id].voteData.sort((a, b) => b.votes - a.votes);\r\n            temp[poll_id].voteData.map(({ text, votes, backgroundColor }) => {\r\n              temp[poll_id].chartData.labels.push(text);\r\n              temp[poll_id].chartData.datasets[0].data.push(votes);\r\n              temp[poll_id].chartData.datasets[0].backgroundColor.push(\r\n                backgroundColor\r\n              );\r\n            });\r\n          }\r\n\r\n          let arr = Object.values(temp);\r\n          console.log(\"sortBy\", sortBy);\r\n          switch (sortBy) {\r\n            case \"vote\":\r\n              arr.sort((a, b) => b.totalVoteCount - a.totalVoteCount);\r\n              break;\r\n            case \"time\":\r\n              arr.sort((a, b) => b.poll_id - a.poll_id);\r\n              break;\r\n            case \"like\":\r\n              arr.sort((a, b) => b.num_likes - a.num_likes);\r\n          }\r\n          setData([...data, ...arr]);\r\n          if (arr.length == 0) {\r\n            setHasMore(false);\r\n          }\r\n          console.log(\"new data\", arr);\r\n          resolve(data);\r\n        })\r\n        .catch(reject);\r\n    });\r\n  };\r\n\r\n  const refreshDataset = () => {\r\n    result.current = 10;\r\n    setHasMore(true);\r\n    setData([]);\r\n  };\r\n\r\n  const updateDataset = (pollId) => {\r\n    return new Promise((resolve, reject) => {\r\n      console.log(\"calling Update API\");\r\n      console.log(\"before before\", JSON.parse(JSON.stringify(data)));\r\n      fetch(\r\n        `${ENDPOINT}/api-vote-update/?user_id=${userId}&poll_id=${pollId}&isPersonal=${isPersonal}`\r\n      )\r\n        .then((res) => res.json())\r\n        .then((results) => {\r\n          console.log(\"success\", results);\r\n          let temp = {};\r\n          for (let i = 0; i < results.length; i++) {\r\n            let {\r\n              poll_id,\r\n              poll_text,\r\n              gifurl: gifURL,\r\n              option_id,\r\n              option_name,\r\n              votecount: voteCount,\r\n              totalvotecount: totalVoteCount,\r\n              created_by,\r\n              user_avatar,\r\n              created_at,\r\n              isvoted_bool: isVoted_bool,\r\n              isvoted_option_id: isVoted_option_id,\r\n              comment_count,\r\n              num_likes,\r\n              user_liked,\r\n            } = results[i];\r\n            if (!(poll_id in temp)) {\r\n              temp[poll_id] = {\r\n                poll_text,\r\n                poll_id,\r\n                gifURL,\r\n                totalVoteCount,\r\n                created_by,\r\n                user_avatar,\r\n                created_at,\r\n                options: [],\r\n                isVoted_bool,\r\n                isVoted_option_id,\r\n                comment_count,\r\n                num_likes,\r\n                user_liked,\r\n                chartData: {\r\n                  labels: [],\r\n                  datasets: [\r\n                    {\r\n                      barThickness: 10,\r\n                      maxBarThickness: 10,\r\n                      label: \"# of Votes\",\r\n                      data: [],\r\n                      backgroundColor: [],\r\n                    },\r\n                  ],\r\n                },\r\n                voteData: [],\r\n              };\r\n            }\r\n            temp[poll_id].options.push({ option_id, option_name, voteCount });\r\n\r\n            temp[poll_id].voteData.push({\r\n              option_id: option_id,\r\n              text: option_name,\r\n              votes: Number(voteCount),\r\n              backgroundColor:\r\n                isVoted_option_id == option_id\r\n                  ? \"rgba(34, 191, 160, 1)\"\r\n                  : \"rgba(10, 10, 10, 0.5)\",\r\n            });\r\n          }\r\n          let poll_keys = Object.keys(temp);\r\n          for (let i = 0; i < poll_keys.length; i++) {\r\n            let poll_id = poll_keys[i];\r\n            temp[poll_id].voteData.sort((a, b) => b.votes - a.votes);\r\n            temp[poll_id].voteData.map(({ text, votes, backgroundColor }) => {\r\n              temp[poll_id].chartData.labels.push(text);\r\n              temp[poll_id].chartData.datasets[0].data.push(votes);\r\n              temp[poll_id].chartData.datasets[0].backgroundColor.push(\r\n                backgroundColor\r\n              );\r\n            });\r\n          }\r\n\r\n          let data_copy = JSON.parse(JSON.stringify(data));\r\n          console.log(\"before\", JSON.parse(JSON.stringify(data)));\r\n          for (let i = 0; i < data_copy.length; i++) {\r\n            if (data_copy[i].poll_id == pollId) {\r\n              data_copy[i] = JSON.parse(JSON.stringify(temp[pollId]));\r\n              break;\r\n            }\r\n          }\r\n          console.log(data_copy);\r\n          setData(JSON.parse(JSON.stringify(data_copy)));\r\n          resolve(data_copy);\r\n        })\r\n        .catch(reject);\r\n    });\r\n  };\r\n\r\n  const handleFetchMoreData = () => {\r\n    console.log(\"fetching more data \", result, data.length);\r\n    if (data.length < result.current) {\r\n      console.log(\"cancel fetch more data\");\r\n      return;\r\n    }\r\n    result.current += 10;\r\n    getDataset();\r\n  };\r\n\r\n  const submitVote = ({ user_id, poll_id, option_id }) => {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(\r\n        `${ENDPOINT}/api-update/?user_id=${user_id}&poll_id=${poll_id}&option_id=${option_id}`,\r\n        { method: \"POST\" }\r\n      )\r\n        .then((res) => {\r\n          console.log(res);\r\n          res.json();\r\n        })\r\n        .then((results) => {\r\n          console.log(\"update\", results);\r\n          updateDataset(poll_id);\r\n          resolve(\"OK\");\r\n        })\r\n        .catch(reject);\r\n    });\r\n  };\r\n\r\n  const getComments = (poll_id) => {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(`${ENDPOINT}/api-comments/?poll_id=${poll_id}`)\r\n        .then((res) => res.json())\r\n        .then((results) => {\r\n          console.log(\"comments\", results);\r\n          resolve(results);\r\n        })\r\n        .catch(reject);\r\n    });\r\n  };\r\n\r\n  const submitComment = ({ user_id, poll_id, comment }) => {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(\r\n        `${ENDPOINT}/api-insert-comments/?poll_id=${poll_id}&user_id=${user_id}&comment_text=${comment}`,\r\n        {\r\n          method: \"POST\",\r\n        }\r\n      )\r\n        .then((res) => res.json())\r\n        .then(async (results) => {\r\n          console.log(\"comment inserted\", results);\r\n          updateDataset(poll_id);\r\n          resolve(\"OK\");\r\n        })\r\n        .catch(reject);\r\n    });\r\n  };\r\n\r\n  const submitLike = ({ poll_id, user_id }) => {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(\r\n        `${ENDPOINT}/api-insert-like/?poll_id=${poll_id}&user_id=${user_id}`,\r\n        {\r\n          method: \"POST\",\r\n        }\r\n      )\r\n        .then((res) => res.json())\r\n        .then((results) => {\r\n          console.log(\"like inserted\", results);\r\n          updateDataset(poll_id);\r\n          resolve(\"OK\");\r\n        })\r\n        .catch(reject);\r\n    });\r\n  };\r\n\r\n  const submitPoll = ({ user_id, question, options }) => {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(\r\n        `${ENDPOINT}/api-new-poll/?user_id=${user_id}&question=${question}&options=${options}`,\r\n        {\r\n          method: \"POST\",\r\n        }\r\n      )\r\n        .then((res) => {\r\n          console.log(\"hello1\", res);\r\n          return res.json();\r\n        })\r\n        .then((results) => {\r\n          console.log(\"hello2\", results);\r\n          resolve(\"OK\");\r\n        })\r\n        .catch(reject);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <SQLContext.Provider\r\n      value={{\r\n        data,\r\n        getUserData,\r\n        getDataset,\r\n        updateDataset,\r\n        refreshDataset,\r\n        handleFetchMoreData,\r\n        isPersonal,\r\n        setIsPersonal,\r\n        hasMore,\r\n        userId,\r\n        setSortBy,\r\n        submitVote,\r\n        getComments,\r\n        submitComment,\r\n        submitLike,\r\n        submitPoll,\r\n      }}\r\n    >\r\n      {children}\r\n    </SQLContext.Provider>\r\n  );\r\n}\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport VisibilitySensor from \"react-visibility-sensor\";\r\nimport clsx from \"clsx\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n  Avatar,\r\n  Box,\r\n  Button,\r\n  Card,\r\n  Collapse,\r\n  Divider,\r\n  IconButton,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemAvatar,\r\n  TextField,\r\n  Menu,\r\n  MenuItem,\r\n  ListItemIcon,\r\n} from \"@material-ui/core\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport BarChart from \"./BarChart.js\";\r\nimport LeafChart from \"./LeafChart.js\";\r\nimport KeyboardArrowRightIcon from \"@material-ui/icons/KeyboardArrowRight\";\r\nimport PersonIcon from \"@material-ui/icons/Person\";\r\nimport ScheduleIcon from \"@material-ui/icons/Schedule\";\r\nimport WhatshotIcon from \"@material-ui/icons/Whatshot\";\r\nimport CommentOutlinedIcon from \"@material-ui/icons/CommentOutlined\";\r\nimport SendIcon from \"@material-ui/icons/Send\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport { useSignIn } from \"../contexts/SignInContext\";\r\nimport { useSQL } from \"../contexts/SQLContext.js\";\r\nimport FavoriteBorderIcon from \"@material-ui/icons/FavoriteBorder\";\r\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\r\nimport ChatBubbleOutlineIcon from \"@material-ui/icons/ChatBubbleOutline\";\r\nimport ChatBubbleIcon from \"@material-ui/icons/ChatBubble\";\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nimport ShareIcon from \"@material-ui/icons/Share\";\r\nimport ReportProblemIcon from \"@material-ui/icons/ReportProblem\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\n\r\nconst ENDPOINT = \"https://gif-vote.herokuapp.com\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    marginBottom: \"auto\",\r\n    animation: \"$fade 2s linear\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  bullet: {\r\n    display: \"inline-block\",\r\n    margin: \"0 2px\",\r\n    transform: \"scale(0.8)\",\r\n  },\r\n  title: {\r\n    fontSize: 14,\r\n    opacity: 1,\r\n  },\r\n  \"@keyframes fade\": {\r\n    \"0%, 100%\": { opacity: 0 },\r\n    \"50%\": { opacity: 1 },\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n  expand: {\r\n    transform: \"rotate(0deg)\",\r\n    marginLeft: \"auto\",\r\n    transition: theme.transitions.create(\"transform\", {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  },\r\n  expandOpen: {\r\n    transform: \"rotate(180deg)\",\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    textTransform: \"none\",\r\n  },\r\n  buttonGroup: {\r\n    margin: theme.spacing(1),\r\n    maxHeight: \"30vh\",\r\n    overflow: \"scroll\",\r\n  },\r\n  barChart: {\r\n    maxHeight: \"20vh\",\r\n    overflow: \"scroll\",\r\n  },\r\n  subtitle: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    textAlign: \"center\",\r\n    verticalAlign: \"middle\",\r\n  },\r\n  comment: {\r\n    marginLeft: \"auto\",\r\n    textTransform: \"none\",\r\n  },\r\n  commentBox: {\r\n    display: \"flex\",\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  like: {\r\n    marginRight: \"auto\",\r\n    marginLeft: \"auto\",\r\n    textTransform: \"none\",\r\n  },\r\n  list: {\r\n    maxHeight: \"30vh\",\r\n    overflow: \"scroll\",\r\n    backgroundColor: \"#f5f5f5\",\r\n  },\r\n  moreButton: {\r\n    marginLeft: \"auto\",\r\n    padding: theme.spacing(0.5),\r\n  },\r\n  titleBox: {\r\n    display: \"flex\",\r\n    alignItems: \"flex-start\",\r\n  },\r\n  vote: {\r\n    marginRight: \"auto\",\r\n    textTransform: \"none\",\r\n  },\r\n}));\r\n\r\nconst areEqual = (prev, cur) => {\r\n  console.log(\r\n    \"compare\",\r\n    prev.title === cur.title,\r\n    prev.created_by === cur.created_by,\r\n    prev.created_at === cur.created_at,\r\n    prev.user_id === cur.user_id,\r\n    JSON.stringify(prev.data) == JSON.stringify(cur.data),\r\n    prev.poll_id === cur.poll_id,\r\n    prev.isVoted_bool === cur.isVoted_bool,\r\n    JSON.stringify(prev.chartData) == JSON.stringify(cur.chartData),\r\n    prev.comment_count == cur.comment_count,\r\n    prev.gifURL == cur.gifURL,\r\n    prev.num_likes == cur.num_likes,\r\n    prev.user_liked == cur.user_liked\r\n  );\r\n  if (prev.data != cur.data) {\r\n    console.log(\r\n      \"data\",\r\n      JSON.stringify(prev.data),\r\n      JSON.stringify(cur.data),\r\n      JSON.stringify(prev.data) === JSON.stringify(cur.data)\r\n    );\r\n  }\r\n  if (prev.chartData != cur.chartData) {\r\n    console.log(\r\n      \"chartData\",\r\n      JSON.stringify(prev.chartData),\r\n      JSON.stringify(cur.chartData),\r\n      JSON.stringify(prev.chartData) === JSON.stringify(cur.chartData)\r\n    );\r\n  }\r\n  //console.log(\"check addCount\",prev.addCount, cur.addCount, prev.addCount === cur.addCount)\r\n  return (\r\n    prev.title === cur.title &&\r\n    prev.created_by === cur.created_by &&\r\n    prev.created_at === cur.created_at &&\r\n    prev.user_id === cur.user_id &&\r\n    JSON.stringify(prev.data) == JSON.stringify(cur.data) &&\r\n    prev.poll_id === cur.poll_id &&\r\n    prev.isVoted_bool === cur.isVoted_bool &&\r\n    JSON.stringify(prev.chartData) == JSON.stringify(cur.chartData) &&\r\n    prev.comment_count == cur.comment_count &&\r\n    prev.gifURL == cur.gifURL &&\r\n    prev.num_likes == cur.num_likes &&\r\n    prev.user_liked == cur.user_liked\r\n  );\r\n};\r\n\r\nconst Poll = React.memo(\r\n  ({\r\n    gifURL,\r\n    addCount,\r\n    title,\r\n    created_by,\r\n    user_avatar,\r\n    created_at,\r\n    user_id,\r\n    winner,\r\n    data,\r\n    poll_id,\r\n    isVoted_bool,\r\n    isVoted_option_id,\r\n    chartData,\r\n    totalVoteCount,\r\n    comment_count,\r\n    num_likes,\r\n    user_liked,\r\n  }) => {\r\n    const classes = useStyles();\r\n    const videoRef = useRef(null);\r\n    const [isVisible, setIsVisible] = useState(false);\r\n\r\n    /*\r\n  useEffect(() => {\r\n    if (isVisible) {\r\n      videoRef.current.play();\r\n    } else {\r\n      if (videoRef.current.play) {\r\n        videoRef.current.pause();\r\n      }\r\n    }\r\n  }, [isVisible]);\r\n*/\r\n\r\n    return (\r\n      <Card className={classes.root} variant=\"outlined\">\r\n        <CardContent>\r\n          <Box className={classes.titleBox}>\r\n            <ListItem>\r\n              <ListItemAvatar>\r\n                <Avatar\r\n                  alt={\"Guest\"}\r\n                  className={classes.avatar}\r\n                  src={user_avatar}\r\n                >\r\n                  <AccountCircle />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText\r\n                primary={title}\r\n                secondary={created_by + \" \" + getDate(created_at) + \" ago\"}\r\n              />\r\n            </ListItem>\r\n            <OptionDropdown />\r\n          </Box>\r\n        </CardContent>\r\n        <GIFComponent gifURL={gifURL} />\r\n        <VoteComponent\r\n          user_id={user_id}\r\n          poll_id={poll_id}\r\n          data={data}\r\n          isVoted_bool={isVoted_bool}\r\n          chartData={chartData}\r\n        />\r\n        <Divider />\r\n        <LikeComments\r\n          poll_id={poll_id}\r\n          user_id={user_id}\r\n          totalVoteCount={totalVoteCount}\r\n          user_liked={user_liked}\r\n          num_likes={num_likes}\r\n          comment_count={comment_count}\r\n        />\r\n      </Card>\r\n    );\r\n  },\r\n  areEqual\r\n);\r\nexport default Poll;\r\n\r\nconst GIFComponent = React.memo(\r\n  ({ gifURL }) => {\r\n    return (\r\n      <video width=\"90%\" height=\"auto\" loop muted autoPlay playsInline>\r\n        <source src={gifURL} />\r\n      </video>\r\n    );\r\n  },\r\n  (prev, cur) => {\r\n    return prev.gifURL == cur.gifURL;\r\n  }\r\n);\r\n\r\nconst VoteComponent = React.memo(\r\n  ({ data, isVoted_bool, chartData, user_id, poll_id }) => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n      <>\r\n        {isVoted_bool == 1 && (\r\n          <CardContent className={classes.barChart}>\r\n            <BarChart data={chartData} />\r\n          </CardContent>\r\n        )}\r\n        <Box className={classes.buttonGroup}>\r\n          {isVoted_bool == 0 &&\r\n            data.map(({ text, option_id }, index) => (\r\n              <VoteButton\r\n                key={index}\r\n                text={text}\r\n                option_id={option_id}\r\n                user_id={user_id}\r\n                poll_id={poll_id}\r\n              />\r\n            ))}\r\n        </Box>\r\n      </>\r\n    );\r\n  },\r\n  (prev, cur) => {\r\n    return (\r\n      prev.user_id == cur.user_id &&\r\n      prev.poll_id == cur.poll_id &&\r\n      JSON.stringify(prev.data) == JSON.stringify(cur.data) &&\r\n      prev.isVoted_bool == cur.isVoted_bool &&\r\n      JSON.stringify(prev.chartData) == JSON.stringify(cur.chartData)\r\n    );\r\n  }\r\n);\r\n\r\nconst VoteButton = React.memo(\r\n  ({ text, option_id, user_id, poll_id }) => {\r\n    const classes = useStyles();\r\n    const { submitVote } = useSQL();\r\n    const { isAuthenticated } = useAuth0();\r\n    const { setSignInOpen, setSignInMsg } = useSignIn();\r\n\r\n    const handleVote = async (event, option_id) => {\r\n      if (!isAuthenticated) {\r\n        setSignInMsg(\"Sign in to vote\");\r\n        setSignInOpen(true);\r\n        return;\r\n      }\r\n\r\n      const result = await submitVote({ user_id, poll_id, option_id });\r\n      console.log(\"voted\", option_id, result);\r\n    };\r\n\r\n    return (\r\n      <Button\r\n        variant=\"outlined\"\r\n        color=\"primary\"\r\n        className={classes.button}\r\n        onClick={(event) => handleVote(event, option_id)}\r\n      >\r\n        {text}\r\n      </Button>\r\n    );\r\n  },\r\n  (prev, cur) => {\r\n    return (\r\n      prev.text == cur.text &&\r\n      prev.option_id == cur.option_id &&\r\n      prev.user_id == cur.user_id &&\r\n      prev.poll_id == cur.poll_id\r\n    );\r\n  }\r\n);\r\n\r\nconst OptionDropdown = () => {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <IconButton className={classes.moreButton} onClick={handleClick}>\r\n        <MoreVertIcon />\r\n      </IconButton>\r\n      <Menu\r\n        id=\"simple-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        {false && (\r\n          <MenuItem onClick={handleClose}>\r\n            <ListItemIcon>\r\n              <ShareIcon />\r\n            </ListItemIcon>\r\n            <ListItemText>Share</ListItemText>\r\n          </MenuItem>\r\n        )}\r\n        <MenuItem>\r\n          <Button\r\n            href=\"mailto:gifvote0@gmail.com\"\r\n            style={{ textTransform: \"none\" }}\r\n          >\r\n            <ListItemIcon>\r\n              <ReportProblemIcon />\r\n            </ListItemIcon>\r\n            <ListItemText>Report</ListItemText>\r\n          </Button>\r\n        </MenuItem>\r\n      </Menu>\r\n    </>\r\n  );\r\n};\r\n\r\nconst LikeComments = React.memo(\r\n  ({\r\n    poll_id,\r\n    user_id,\r\n    totalVoteCount,\r\n    user_liked,\r\n    num_likes,\r\n    comment_count,\r\n  }) => {\r\n    const classes = useStyles();\r\n    const [expanded, setExpanded] = useState(false);\r\n    const [comments, setComments] = useState([]);\r\n    const { isAuthenticated, user } = useAuth0();\r\n    const { setSignInOpen, setSignInMsg } = useSignIn();\r\n    const { getComments, submitComment } = useSQL();\r\n\r\n    const handleComment = async () => {\r\n      if (expanded == false) {\r\n        const results = await getComments(poll_id);\r\n        if (results) {\r\n          setComments(results);\r\n        }\r\n      }\r\n\r\n      setExpanded(!expanded);\r\n    };\r\n\r\n    const handleSubmitComment = async (comment) => {\r\n      if (!isAuthenticated) {\r\n        setSignInMsg(\"Sign in to comment\");\r\n        setSignInOpen(true);\r\n        return;\r\n      }\r\n\r\n      const response = await submitComment({ poll_id, user_id, comment });\r\n      if (response == \"OK\") {\r\n        const result = await getComments(poll_id);\r\n        if (result) {\r\n          setComments(result);\r\n        }\r\n        //setComment(\"\");\r\n      }\r\n    };\r\n\r\n    return (\r\n      <>\r\n        <CardActions disableSpacing>\r\n          <Button className={classes.vote} startIcon={<WhatshotIcon />}>\r\n            {totalVoteCount} {totalVoteCount == 1 ? \" Vote\" : \"Votes\"}\r\n          </Button>\r\n          <LikeButton\r\n            user_liked={user_liked}\r\n            num_likes={num_likes}\r\n            poll_id={poll_id}\r\n            user_id={user_id}\r\n          />\r\n          <Button\r\n            className={classes.comment}\r\n            onClick={handleComment}\r\n            startIcon={\r\n              expanded == true ? (\r\n                <ChatBubbleIcon color=\"primary\" />\r\n              ) : (\r\n                <ChatBubbleOutlineIcon />\r\n              )\r\n            }\r\n          >\r\n            {comment_count} {comment_count == 1 ? \" Comment\" : \"Comments\"}\r\n          </Button>\r\n        </CardActions>\r\n        <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n          <CardContent>\r\n            <CommentList comments={comments} />\r\n            <Divider />\r\n            <Box className={classes.commentBox}>\r\n              {isAuthenticated && (\r\n                <Avatar\r\n                  src={user.picture}\r\n                  alt={user.name}\r\n                  className={classes.avatar}\r\n                />\r\n              )}\r\n              {!isAuthenticated && (\r\n                <Avatar alt={\"Guest\"} className={classes.avatar}>\r\n                  <AccountCircle />\r\n                </Avatar>\r\n              )}\r\n\r\n              <CommentInput handleSubmitComment={handleSubmitComment} />\r\n            </Box>\r\n          </CardContent>\r\n        </Collapse>\r\n      </>\r\n    );\r\n  },\r\n  (prev, cur) => {\r\n    return (\r\n      prev.poll_id == cur.poll_id &&\r\n      prev.user_id == cur.user_id &&\r\n      prev.totalVoteCount == cur.totalVoteCount &&\r\n      prev.user_liked == cur.user_liked &&\r\n      prev.num_likes == cur.num_likes &&\r\n      prev.comment_count == cur.comment_count\r\n    );\r\n  }\r\n);\r\n\r\nconst CommentList = React.memo(\r\n  ({ comments }) => {\r\n    const classes = useStyles();\r\n    return (\r\n      <List className={classes.list} dense>\r\n        {comments.map(\r\n          ({ user_name, created_at, user_avatar, comment_text }, index) => (\r\n            <ListItem key={index}>\r\n              <ListItemAvatar>\r\n                <Avatar src={user_avatar} />\r\n              </ListItemAvatar>\r\n              <ListItemText\r\n                secondary={user_name + \" \" + getDate(created_at) + \" ago\"}\r\n                primary={comment_text}\r\n              />\r\n            </ListItem>\r\n          )\r\n        )}\r\n      </List>\r\n    );\r\n  },\r\n  (prev, cur) => {\r\n    return JSON.stringify(prev.comments) == JSON.stringify(cur.comments);\r\n  }\r\n);\r\n\r\nconst CommentInput = ({ handleSubmitComment }) => {\r\n  const [comment, setComment] = useState(\"\");\r\n\r\n  return (\r\n    <>\r\n      <TextField\r\n        label=\"Add a comment...\"\r\n        variant=\"outlined\"\r\n        value={comment}\r\n        onChange={(event) => {\r\n          event.preventDefault();\r\n          setComment(event.target.value);\r\n        }}\r\n        fullWidth\r\n      />\r\n\r\n      <IconButton\r\n        color=\"primary\"\r\n        onClick={() => {\r\n          handleSubmitComment(comment);\r\n        }}\r\n      >\r\n        <SendIcon />\r\n      </IconButton>\r\n    </>\r\n  );\r\n};\r\n\r\nconst LikeButton = React.memo(\r\n  ({ user_liked, num_likes, poll_id, user_id }) => {\r\n    const classes = useStyles();\r\n    const { submitLike } = useSQL();\r\n    const { isAuthenticated } = useAuth0();\r\n    const { setSignInOpen, setSignInMsg } = useSignIn();\r\n\r\n    const handleLike = async () => {\r\n      if (!isAuthenticated) {\r\n        setSignInMsg(\"Sign in to like\");\r\n        setSignInOpen(true);\r\n        return;\r\n      }\r\n\r\n      const response = await submitLike({ poll_id, user_id });\r\n      console.log(\"submit like\", response);\r\n    };\r\n\r\n    return (\r\n      <Button\r\n        className={classes.like}\r\n        onClick={handleLike}\r\n        startIcon={\r\n          user_liked == 1 ? (\r\n            <FavoriteIcon color=\"secondary\" />\r\n          ) : (\r\n            <FavoriteBorderIcon />\r\n          )\r\n        }\r\n      >\r\n        {num_likes} {num_likes == 1 ? \" Like\" : \"Likes\"}\r\n      </Button>\r\n    );\r\n  },\r\n  (prev, cur) => {\r\n    console.log(\r\n      \"likeompare\",\r\n      prev.user_liked == cur.user_liked,\r\n      prev.num_likes == cur.num_likes,\r\n      prev.poll_id == cur.poll_id,\r\n      prev.user_id == cur.user_id\r\n    );\r\n    return (\r\n      prev.user_liked == cur.user_liked &&\r\n      prev.num_likes == cur.num_likes &&\r\n      prev.poll_id == cur.poll_id &&\r\n      prev.user_id == cur.user_id\r\n    );\r\n  }\r\n);\r\n\r\nconst getDate = (date) => {\r\n  const a = new Date(date);\r\n  const b = new Date();\r\n\r\n  const utc1 = Date.UTC(\r\n    a.getFullYear(),\r\n    a.getMonth(),\r\n    a.getDate(),\r\n    a.getHours(),\r\n    a.getMinutes(),\r\n    a.getSeconds()\r\n  );\r\n  const utc2 = Date.UTC(\r\n    b.getFullYear(),\r\n    b.getMonth(),\r\n    b.getDate(),\r\n    b.getHours(),\r\n    b.getMinutes(),\r\n    b.getSeconds()\r\n  );\r\n  const _MS_PER_DAY = 1000 * 60 * 60 * 24;\r\n\r\n  let sec_diff = Math.floor((utc2 - utc1) / 1000);\r\n  let day_diff = Math.floor((utc2 - utc1) / _MS_PER_DAY);\r\n\r\n  //console.log(a, b, utc1, utc2, sec_diff, day_diff, title + poll_id);\r\n  if (sec_diff < 60) {\r\n    return Math.round(sec_diff) + \"s\";\r\n  } else if (sec_diff < 3600) {\r\n    return Math.round(sec_diff / 60) + \"m\";\r\n  } else if (sec_diff < 86400) {\r\n    return Math.round(sec_diff / 3600) + \"h\";\r\n  } else if (day_diff < 7) {\r\n    return Math.round(day_diff) + \"d\";\r\n  } else if (day_diff < 365) {\r\n    return Math.round(day_diff / 7) + \"w\";\r\n  } else {\r\n    return Math.round(day_diff / 365) + \"y\";\r\n  }\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Box, Button, IconButton } from \"@material-ui/core\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport { useSignIn } from \"../contexts/SignInContext\";\r\nimport { useSQL } from \"../contexts/SQLContext.js\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {},\r\n  button: {\r\n    transform: \"scale(2)\",\r\n  },\r\n  optionContainer: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n  },\r\n  addOptionButton: {\r\n    textTransform: \"none\",\r\n    margin: theme.spacing(1),\r\n  },\r\n  formButton: {\r\n    textTransform: \"none\",\r\n  },\r\n}));\r\n\r\nexport default function FormDialog() {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = useState(false);\r\n  const [options, setOptions] = useState([\r\n    { val: \"\", err: \"\" },\r\n    { val: \"\", err: \"\" },\r\n  ]);\r\n  const [question, setQuestion] = useState({ val: \"\", err: \"\" });\r\n  const { loginWithRedirect, isAuthenticated } = useAuth0();\r\n  const { setSignInOpen, setSignInMsg } = useSignIn();\r\n  const { refreshDataset, submitPoll, userId } = useSQL();\r\n  const history = useHistory();\r\n\r\n  const handleClickOpen = () => {\r\n    if (!isAuthenticated) {\r\n      setSignInMsg(\"Sign in to create poll\");\r\n      setSignInOpen(true);\r\n      return;\r\n    }\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOptions([\r\n      { val: \"\", err: \"\" },\r\n      { val: \"\", err: \"\" },\r\n    ]);\r\n    setQuestion({ val: \"\", err: \"\" });\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleAddOption = () => {\r\n    if (options.length < 10) {\r\n      setOptions([...options, { val: \"\", err: \"\" }]);\r\n    }\r\n  };\r\n\r\n  const handleOptionField = (event, index) => {\r\n    event.preventDefault();\r\n    if (event.target.value.length > 20) {\r\n      return;\r\n    }\r\n\r\n    let temp = [...options];\r\n    temp[index] = { val: event.target.value, err: \"\" };\r\n    setOptions(temp);\r\n    console.log(event.target.value, index);\r\n  };\r\n\r\n  const handleDeleteField = (event, index) => {\r\n    event.preventDefault();\r\n    let temp = [...options];\r\n    temp.splice(index, 1);\r\n    setOptions(temp);\r\n  };\r\n\r\n  const handleCreatePoll = async () => {\r\n    if (question.val.trim() == \"\") {\r\n      setQuestion({ val: question.val, err: \"Cannot be blank\" });\r\n      return;\r\n    }\r\n    for (let i = 0; i < options.length; i++) {\r\n      if (options[i].val.trim() == \"\") {\r\n        let temp = [...options];\r\n        temp[i].err = \"Cannot be blank\";\r\n        setOptions(temp);\r\n        return;\r\n      }\r\n    }\r\n\r\n    let temp = [...options];\r\n    for (let i = 0; i < temp.length; i++) {\r\n      temp[i] = temp[i].val.trim();\r\n    }\r\n\r\n    const response = await submitPoll({\r\n      user_id: userId,\r\n      question: question.val.trim(),\r\n      options: JSON.stringify(temp),\r\n    });\r\n    if (response == \"OK\") {\r\n      refreshDataset();\r\n      handleClose();\r\n      history.push(\"/your\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <IconButton\r\n        color=\"primary\"\r\n        aria-label=\"new poll\"\r\n        component=\"span\"\r\n        onClick={handleClickOpen}\r\n        className={classes.button}\r\n      >\r\n        <AddCircleIcon />\r\n      </IconButton>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">Create New Poll</DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            autoFocus\r\n            error={question.err != \"\"}\r\n            helperText={question.err}\r\n            margin=\"dense\"\r\n            id=\"name\"\r\n            label=\"Question\"\r\n            value={question.val}\r\n            onChange={(event) =>\r\n              setQuestion({\r\n                val: event.target.value.slice(\r\n                  0,\r\n                  Math.min(event.target.value.length, 50)\r\n                ),\r\n                err: \"\",\r\n              })\r\n            }\r\n            fullWidth\r\n          />\r\n\r\n          {options.map(({ val, err }, index) => (\r\n            <Box key={index} className={classes.optionContainer}>\r\n              <TextField\r\n                error={err != \"\"}\r\n                helperText={err}\r\n                margin=\"dense\"\r\n                id=\"name\"\r\n                label={\"Option \" + (index + 1)}\r\n                value={val}\r\n                onChange={(event) => handleOptionField(event, index)}\r\n                fullWidth\r\n              />\r\n              <IconButton\r\n                aria-label=\"delete\"\r\n                onClick={(event) => handleDeleteField(event, index)}\r\n                disabled={index in [0, 1]}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            </Box>\r\n          ))}\r\n          <Button\r\n            className={classes.addOptionButton}\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            startIcon={<AddIcon />}\r\n            onClick={handleAddOption}\r\n            disabled={options.length >= 10}\r\n          >\r\n            Add Option\r\n          </Button>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={handleClose}\r\n            color=\"secondary\"\r\n            variant=\"outlined\"\r\n            className={classes.formButton}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={handleCreatePoll}\r\n            color=\"primary\"\r\n            variant=\"contained\"\r\n            className={classes.formButton}\r\n          >\r\n            Create\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport { useSignIn } from '../contexts/SignInContext';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function SimpleSelect({isOpen, setIsOpen}) {\r\n  const classes = useStyles();\r\n  const {isAuthenticated} = useAuth0();\r\n  const [signInOpen, setSignInOpen, signInMsg, setSignInMsg] = useSignIn();\r\n\r\n  const handleChange = (event) => {\r\n    if (event.target.value == false && !isAuthenticated){\r\n      setSignInMsg(\"Sign in to see your polls\");\r\n      setSignInOpen(true);\r\n      return ;\r\n    }\r\n    setIsOpen(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <FormControl className={classes.formControl}>\r\n        <Select\r\n          labelId=\"demo-simple-select-label\"\r\n          id=\"demo-simple-select\"\r\n          value={isOpen}\r\n          onChange={handleChange}\r\n        >\r\n          <MenuItem value={true}>All Polls</MenuItem>\r\n          <MenuItem value={false}>Your Polls</MenuItem>\r\n        </Select>\r\n      </FormControl>\r\n    </div>\r\n    )\r\n  }","import React, {useState} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {AppBar, Button, Drawer, List, ListItem, ListItemAvatar, ListItemText, ListItemIcon, Divider} from '@material-ui/core';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport { Breadcrumbs } from '@material-ui/core';\r\nimport DropdownMenu from './DropdownMenu.js';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport { BiLogIn, BiLogOut } from \"react-icons/bi\";\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport FeedbackIcon from '@material-ui/icons/Feedback';\r\nimport WhatshotIcon from '@material-ui/icons/Whatshot';\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\r\nimport ScheduleIcon from '@material-ui/icons/Schedule';\r\nimport FaceIcon from '@material-ui/icons/Face';\r\nimport GIFVoteLogo from '../images/gif_vote_logo3.png';\r\n\r\nimport {\r\n  NavLink\r\n} from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    color: \"black\"\r\n  },\r\n  toolbar: {\r\n    backgroundColor: \"#fafafa\",\r\n  },\r\n  passiveLink: {\r\n    display: 'flex',\r\n    alignItems: \"center\",\r\n    color: \"rgba(0, 0, 0, 0.54)\",\r\n    textDecoration: 'none',\r\n    '&:hover':{\r\n      textDecoration: \"underline\",\r\n    },\r\n  },\r\n  activeLink: {\r\n    display: 'flex',\r\n    color: \"rgba(34, 191, 160, 1)\",\r\n    textDecoration: \"underline\"\r\n  },\r\n  loginButton: {\r\n    marginLeft: theme.spacing(2)\r\n  },\r\n  breadcrumbs: {\r\n    marginLeft: \"auto\"\r\n  },\r\n  logo: {\r\n    height:\"35px\",\r\n    width:\"auto\",\r\n    maxWidth: \"50vw\",\r\n    margin: theme.spacing(1),\r\n  },\r\n  icon: {\r\n    marginRight: theme.spacing(0.5),\r\n    width: 20,\r\n    height: 20,\r\n  },\r\n}));\r\n\r\nexport default function MenuAppBar({isOpen, setIsOpen}) {\r\n  const classes = useStyles();\r\n  const [auth, setAuth] = React.useState(true);\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n  const {loginWithRedirect, logout, isAuthenticated, user} = useAuth0();\r\n\r\n  const handleChange = (event) => {\r\n    setAuth(event.target.checked);\r\n  };\r\n\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleLogIn = () => {\r\n    loginWithRedirect();\r\n    handleClose();\r\n  }\r\n  const handleLogOut = () => {\r\n    logout();\r\n    handleClose();\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"fixed\">\r\n        <Toolbar className={classes.toolbar}>\r\n          <MenuDrawer/>\r\n          <img className={classes.logo} alt=\"GIF Vote\" src={GIFVoteLogo} />\r\n          <SimpleBreadcrumbs />\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nconst SimpleBreadcrumbs = () => {\r\n  const classes = useStyles();\r\n  const {isAuthenticated} = useAuth0();\r\n\r\n  return (\r\n    <Breadcrumbs aria-label=\"breadcrumb\" className={classes.breadcrumbs}>\r\n      <NavLink className={classes.passiveLink} activeClassName={classes.activeLink} exact to=\"/\">\r\n        <WhatshotIcon className={classes.icon} />\r\n        Most Votes\r\n      </NavLink>\r\n      <NavLink className={classes.passiveLink} activeClassName={classes.activeLink} to=\"/most-like\">\r\n        <FavoriteBorderIcon className={classes.icon} />\r\n        Most Likes\r\n      </NavLink>\r\n      <NavLink className={classes.passiveLink} activeClassName={classes.activeLink} to=\"/latest\">\r\n        <ScheduleIcon className={classes.icon} />\r\n        Latest\r\n      </NavLink>\r\n      {isAuthenticated &&\r\n        <NavLink className={classes.passiveLink} activeClassName={classes.activeLink} to=\"/your\">\r\n          <FaceIcon className={classes.icon} />\r\n          Your Polls\r\n        </NavLink>\r\n      }\r\n    </Breadcrumbs>\r\n  );\r\n}\r\n\r\nconst MenuDrawer = () => {\r\n  const classes = useStyles();\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const {isAuthenticated, user, loginWithRedirect, logout} = useAuth0();\r\n\r\n  return (\r\n    <>\r\n      <IconButton edge=\"start\" className={classes.menuButton} color=\"textPrimary\" aria-label=\"menu\" onClick={()=>setIsOpen(!isOpen)}>\r\n        <MenuIcon />\r\n      </IconButton>\r\n      <Drawer anchor=\"left\" open={isOpen} onClose={()=>{setIsOpen(false)}}>\r\n        <List>\r\n          <ListItem>\r\n            <ListItemAvatar>\r\n              {isAuthenticated && \r\n                <Avatar src={user.picture} alt={user.name}/>\r\n              }\r\n              {!isAuthenticated &&\r\n                <Avatar alt={\"Guest\"}>\r\n                  <AccountCircle />\r\n                </Avatar>\r\n              }\r\n            </ListItemAvatar>\r\n            <ListItemText primary={ (user)?user.name:\"Guest\"} secondary={(user) ? user.email : \"Sign in to see your profile\"}/>\r\n\r\n              {isAuthenticated && \r\n                <IconButton className={classes.loginButton} onClick={logout}>\r\n                  <BiLogOut/>\r\n                </IconButton>\r\n              }\r\n              {!isAuthenticated &&\r\n                <IconButton className={classes.loginButton} onClick={loginWithRedirect}>\r\n                  <BiLogIn/>\r\n                </IconButton>\r\n              }\r\n          </ListItem>\r\n          <Divider/>\r\n          <ListItem button>\r\n            <ListItemIcon><FeedbackIcon/></ListItemIcon>\r\n            <ListItemText primary={\"Give Feedback\"} secondary={\"Help us improve GIF Votes\"} />\r\n          </ListItem>\r\n          <Divider/>\r\n          <ListItem button>\r\n            <ListItemIcon><SettingsIcon/></ListItemIcon>\r\n            <ListItemText primary={\"Settings\"} />\r\n          </ListItem>\r\n          <ListItem button>\r\n            <ListItemIcon><InfoIcon/></ListItemIcon>\r\n            <ListItemText primary={\"About\"} />\r\n          </ListItem>\r\n        </List>\r\n      </Drawer>\r\n    </>\r\n  );\r\n}","export default \"data:image/png;base64,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\"","import React, { useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n  Button,\r\n  Grid,\r\n  Paper,\r\n  Snackbar,\r\n  Slide,\r\n  Dialog,\r\n  DialogTitle,\r\n  IconButton,\r\n  Typography,\r\n  DialogContent,\r\n} from \"@material-ui/core\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport { useSignIn } from \"../contexts/SignInContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {},\r\n  title: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n  },\r\n  titleText: {\r\n    alignSelf: \"center\",\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    marginLeft: \"auto\",\r\n    color: theme.palette.grey[500],\r\n  },\r\n  video: {\r\n    marginLeft: \"auto\",\r\n    marginRight: \"auto\",\r\n  },\r\n  videoContainer: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n  },\r\n}));\r\n\r\nfunction SignInPage(props) {\r\n  const classes = useStyles();\r\n  const { signInOpen, setSignInOpen, signInMsg, setSignInMsg } = useSignIn();\r\n  const { loginWithRedirect, loginWithPopup, isAuthenticated } = useAuth0();\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated && signInOpen) {\r\n      setSignInOpen(false);\r\n    }\r\n  }, [isAuthenticated]);\r\n\r\n  const getMotivationalURL = () => {\r\n    let choice = [\r\n      \"https://media0.giphy.com/media/xT9DPnxOqFNu0vObyU/giphy-downsized-small.mp4?cid=ecf05e477ybh0yl5kdyzkwyz5g7ljply8vk3ixadsfv9ywjz&rid=giphy-downsized-small.mp4&ct=g\",\r\n      \"https://media0.giphy.com/media/l2Sq3jYHktALKdQJO/giphy-downsized-small.mp4?cid=ecf05e477ybh0yl5kdyzkwyz5g7ljply8vk3ixadsfv9ywjz&rid=giphy-downsized-small.mp4&ct=g\",\r\n      \"https://media1.giphy.com/media/ur5T6Wuw4xK2afXVmd/giphy-downsized-small.mp4?cid=ecf05e477ybh0yl5kdyzkwyz5g7ljply8vk3ixadsfv9ywjz&rid=giphy-downsized-small.mp4&ct=g\",\r\n      \"https://media2.giphy.com/media/26xBSxisb1xYv1dja/giphy-downsized-small.mp4?cid=ecf05e477ybh0yl5kdyzkwyz5g7ljply8vk3ixadsfv9ywjz&rid=giphy-downsized-small.mp4&ct=g\",\r\n      \"https://media0.giphy.com/media/rVaFLAGrPcmlQR1nmt/giphy-downsized-small.mp4?cid=ecf05e477ybh0yl5kdyzkwyz5g7ljply8vk3ixadsfv9ywjz&rid=giphy-downsized-small.mp4&ct=g\",\r\n      \"https://media1.giphy.com/media/xT9DPPqwOCoxi3ASWc/giphy-downsized-small.mp4?cid=ecf05e477ybh0yl5kdyzkwyz5g7ljply8vk3ixadsfv9ywjz&rid=giphy-downsized-small.mp4&ct=g\",\r\n      \"https://media0.giphy.com/media/xT9DPGsywQ5zMfR6KY/giphy-downsized-small.mp4?cid=ecf05e477ybh0yl5kdyzkwyz5g7ljply8vk3ixadsfv9ywjz&rid=giphy-downsized-small.mp4&ct=g\",\r\n      \"https://media4.giphy.com/media/26n6yBeeXFU8C5j8c/giphy-downsized-small.mp4?cid=ecf05e471vfffwv91zo73j3x8h4q83yeezw44y1j75uf3foo&rid=giphy-downsized-small.mp4&ct=g\",\r\n      \"https://media4.giphy.com/media/l1BgRkTSJlYgCVqHm/giphy-downsized-small.mp4?cid=ecf05e47lhwhdp46xml09m3af3257q7u8dtvdxamfntftgnh&rid=giphy-downsized-small.mp4&ct=g\",\r\n    ];\r\n    return choice[Math.floor(Math.random() * choice.length)];\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={signInOpen}\r\n        onClose={() => {\r\n          setSignInOpen(false);\r\n        }}\r\n        className={classes.root}\r\n      >\r\n        <DialogTitle disableTypography className={classes.title}>\r\n          <Typography variant=\"h4\" className={classes.titleText}>\r\n            {signInMsg}\r\n          </Typography>\r\n          <IconButton\r\n            aria-label=\"close\"\r\n            className={classes.closeButton}\r\n            onClick={() => {\r\n              setSignInOpen(false);\r\n            }}\r\n          >\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </DialogTitle>\r\n        <DialogContent dividers className={classes.videoContainer}>\r\n          <Typography gutterBottom>Here's a GIF to start your day!</Typography>\r\n          <video\r\n            width=\"60%\"\r\n            height=\"auto\"\r\n            autoPlay\r\n            loop\r\n            muted\r\n            playsInline\r\n            className={classes.video}\r\n          >\r\n            <source src={getMotivationalURL()} />\r\n          </video>\r\n        </DialogContent>\r\n        <Button variant=\"contained\" color=\"primary\" onClick={loginWithRedirect}>\r\n          Sign In\r\n        </Button>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignInPage;\r\n","import {Button, Grid, Paper} from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useEffect, useState, useRef } from 'react';\r\nimport Poll from './Poll.js';\r\nimport PollForm from './PollForm.js';\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport FadeInSection from './FadeInSection';\r\nimport { useSQL } from '../contexts/SQLContext.js';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    marginTop: theme.spacing(8)\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    textAlign: 'center',\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  gridContainer:{\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    padding: theme.spacing(2)\r\n\r\n  },\r\n  itemContainer: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    padding: theme.spacing(2)\r\n  },\r\n  newPollDialog: {\r\n    position: \"fixed\",\r\n    bottom: \"5vmin\",\r\n    right: \"5vmin\",\r\n  }\r\n}));\r\n\r\n\r\nfunction PollPage({personal, sortBy}) {\r\n  const classes = useStyles();\r\n  const [pollPointer, setPollPointer] = useState(0);\r\n  const {data, getUserData, getDataset, updateDataset, refreshDataset, handleFetchMoreData, isPersonal, setIsPersonal, hasMore, userId, setSortBy} = useSQL();\r\n\r\n  useEffect(()=>{\r\n    setIsPersonal(personal);\r\n    setSortBy(sortBy);\r\n  }, [personal, sortBy])\r\n\r\n  useEffect(()=>{\r\n    refreshDataset();\r\n  }, [userId])\r\n\r\n\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n        <InfiniteScroll\r\n            dataLength={data.length}\r\n            next={handleFetchMoreData}\r\n            hasMore={hasMore}\r\n            loader={<h4>Loading...</h4>}\r\n            endMessage={\r\n              <p style={{ textAlign: \"center\" }}>\r\n                <b>Yay! You have seen it all</b>\r\n              </p>\r\n            }\r\n          >\r\n          <Grid container spacing={0} className={classes.gridContainer}>\r\n            {data.map(({poll_text, gifURL, created_by, user_avatar, created_at, winner, chartData, voteData, poll_id, isVoted_bool, isVoted_option_id, totalVoteCount, comment_count, num_likes, user_liked}, index)=>{\r\n              return (\r\n                <Grid key={index} item xs={12} sm={6} lg={4} className={classes.itemContainer}>\r\n                  <Poll gifURL={gifURL} key={index} user_id={userId} title={poll_text} created_by={created_by} user_avatar={user_avatar} created_at={created_at} winner={winner} chartData={chartData} data={voteData} poll_id={poll_id} isVoted_bool={isVoted_bool} totalVoteCount={totalVoteCount} comment_count={comment_count} num_likes={num_likes} user_liked={user_liked}/>\r\n                </Grid> \r\n                )         \r\n            })}\r\n            </Grid>\r\n        </InfiniteScroll>\r\n      <div className={classes.newPollDialog}>\r\n      <PollForm/>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PollPage;\r\n","import './App.css';\nimport {Button, Grid, Paper, Snackbar, Slide, Dialog } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useEffect, useState, useRef } from 'react';\nimport Poll from './components/Poll.js';\nimport PollForm from './components/PollForm.js';\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport DropdownMenu from './components/DropdownMenu';\nimport TopBar from './components/TopBar';\nimport SignInPage from './components/SignInPage';\nimport { useAuth0 } from '@auth0/auth0-react';\nimport { useSQL } from './contexts/SQLContext';\nimport { LocalDiningOutlined } from '@material-ui/icons';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\nimport PollPage from './components/PollPage';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n  },\n}));\n\nconst userName = \"Daren\"\nconst userEmail = \"daren@gmail.com\"\nconst userId = \"2\"\n\nfunction App() {\n  const classes = useStyles();\n  const [count, setCount] = useState(0);\n  const [isOpen, setIsOpen] = useState(true);\n  const {isAuthenticated, user, logout, isLoading} = useAuth0();\n  const {data, getUserData, getDataset, updateDataset, refreshDataset, handleFetchMoreData, isPersonal, setIsPersonal, hasMore, userId, setSortBy} = useSQL();\n\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n\n  useEffect(async ()=>{\n    if (isAuthenticated){\n\n      console.log(\"authenticated!\", user);\n      setSnackbarOpen(true);\n\n      const results = await getUserData(user);\n\n      console.log(\"user data\", results)\n    }\n  }, [isAuthenticated])\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <TopBar isOpen={isOpen} setIsOpen={setIsOpen}/>\n        <Snackbar open={snackbarOpen} autoHideDuration={6000} onClose={()=>setSnackbarOpen(false)} message=\"Signed In!\" TransitionComponent={Slide}/>\n\n        <SignInPage/>\n        <Switch>\n          <Route path=\"/your\">\n            <PollPage personal={1} sortBy={\"time\"}/>\n          </Route>\n          <Route path=\"/most-like\">\n            <PollPage personal={0} sortBy={\"like\"}/>\n          </Route>\n          <Route path=\"/latest\">\n            <PollPage personal={0} sortBy={\"time\"}/>\n          </Route>\n          <Route path=\"/\">\n            <PollPage personal={0} sortBy={\"vote\"}/>\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n\n\n/*\n        <Switch>\n          <Route path=\"/\">\n            <AllPoll userId={userId} isOpen={false} setIsOpen={setIsOpen}/>\n          </Route>\n          <Route path=\"/your\">\n            <MyPoll userId={userId} isOpen={true} setIsOpen={setIsOpen}/>\n          </Route>\n        </Switch>*/","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport { createTheme } from \"@material-ui/core/styles\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { Auth0Provider } from \"@auth0/auth0-react\";\nimport { SignInProvider } from \"./contexts/SignInContext\";\nimport { SQLProvider } from \"./contexts/SQLContext\";\nimport { defaults } from \"react-chartjs-2\";\nimport { LaptopWindowsSharp } from \"@material-ui/icons\";\ndefaults.font.family = [\n  \"-apple-system\",\n  \"BlinkMacSystemFont\",\n  '\"Segoe UI\"',\n  \"Roboto\",\n  '\"Helvetica Neue\"',\n  \"Arial\",\n  \"sans-serif\",\n  '\"Apple Color Emoji\"',\n  '\"Segoe UI Emoji\"',\n  '\"Segoe UI Symbol\"',\n].join(\",\");\ndefaults.font.size = 10;\nconsole.log(\"default\", defaults);\n\nconst domain = process.env.REACT_APP_AUTH0_DOMAIN;\nconst clientId = process.env.REACT_APP_AUTH0_CLIENT_ID;\nconsole.log(\"domain\", domain, clientId);\n\nconst theme = createTheme({\n  palette: {\n    primary: {\n      // Purple and green play nicely together.\n      main: \"#22bfa0\",\n    },\n  },\n});\n\nconst dev = \"https://localhost:3000\";\nconst prod = \"https://darenwong.github.io/GIFVote-web/\";\n\nReactDOM.render(\n  <Auth0Provider\n    domain={domain}\n    clientId={clientId}\n    redirectUri={window.location.origin}\n  >\n    <SignInProvider>\n      <SQLProvider>\n        <ThemeProvider theme={theme}>\n          <App />\n        </ThemeProvider>\n      </SQLProvider>\n    </SignInProvider>\n  </Auth0Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}