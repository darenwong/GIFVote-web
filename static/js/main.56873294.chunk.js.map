{"version":3,"sources":["components/BarChart.js","contexts/SignInContext.js","contexts/SQLContext.js","components/Poll.js","components/PollForm.js","components/DropdownMenu.js","components/TopBar.js","images/gif_vote_logo3.png","components/SignInPage.js","components/PollPage.js","App.js","reportWebVitals.js","index.js"],"names":["options","maintainAspectRatio","responsive","indexAxis","scales","x","display","grid","ticks","stepSize","y","autoSkip","elements","bar","borderWidth","borderRadius","plugins","legend","position","title","text","areEqual","prev","cur","JSON","stringify","data","BarChart","React","memo","getElementAtEvent","style","width","SignInContext","createContext","useSignIn","useContext","SignInProvider","children","useState","signInOpen","setSignInOpen","signInMsg","setSignInMsg","Provider","value","SQLContext","ENDPOINT","useSQL","SQLProvider","setData","result","useRef","hasMore","setHasMore","isPersonal","setIsPersonal","userId","setUserId","useAuth0","logout","isAuthenticated","user","isLoading","sortBy","setSortBy","useEffect","console","log","parse","length","getDataset","refreshDataset","Promise","resolve","reject","current","fetch","then","res","json","results","temp","i","poll_id","poll_text","gifURL","gifurl","option_id","option_name","voteCount","votecount","totalVoteCount","totalvotecount","created_by","user_avatar","created_at","isVoted_bool","isvoted_bool","isVoted_option_id","isvoted_option_id","comment_count","num_likes","user_liked","chartData","labels","datasets","barThickness","maxBarThickness","label","backgroundColor","voteData","push","Number","votes","arr","Object","values","sort","a","b","catch","updateDataset","pollId","data_copy","getUserData","email","nickname","picture","method","id","String","handleFetchMoreData","submitVote","user_id","getComments","submitComment","comment","submitLike","submitPoll","question","useStyles","makeStyles","theme","root","marginBottom","avatar","margin","spacing","bullet","transform","fontSize","pos","expand","marginLeft","transition","transitions","create","duration","shortest","expandOpen","button","textTransform","buttonGroup","maxHeight","overflow","barChart","subtitle","justifyContent","alignItems","textAlign","verticalAlign","commentBox","marginTop","like","marginRight","list","moreButton","padding","titleBox","vote","Poll","addCount","winner","classes","loginWithRedirect","handleVote","event","getDate","date","Date","utc1","UTC","getFullYear","getMonth","getHours","getMinutes","getSeconds","utc2","sec_diff","Math","floor","day_diff","round","Card","className","variant","CardContent","Box","ListItem","ListItemAvatar","Avatar","alt","src","ListItemText","primary","secondary","height","loop","muted","autoPlay","playsInline","List","component","map","index","onClick","inset","Button","color","Divider","OptionDropdown","anchorEl","setAnchorEl","IconButton","currentTarget","Menu","keepMounted","open","Boolean","onClose","MenuItem","href","ListItemIcon","LikeComments","expanded","setExpanded","comments","setComments","setComment","handleComment","handleSubmitComment","handleLike","response","CardActions","disableSpacing","startIcon","Collapse","in","timeout","unmountOnExit","dense","user_name","comment_text","name","TextField","onChange","preventDefault","target","fullWidth","optionContainer","addOptionButton","formButton","FormDialog","setOpen","val","err","setOptions","setQuestion","history","useHistory","handleClose","handleCreatePoll","trim","Dialog","DialogTitle","DialogContent","autoFocus","error","helperText","slice","min","handleOptionField","splice","handleDeleteField","disabled","DialogActions","formControl","minWidth","selectEmpty","flexGrow","menuButton","toolbar","passiveLink","textDecoration","activeLink","loginButton","breadcrumbs","logo","maxWidth","icon","MenuAppBar","isOpen","setIsOpen","AppBar","Toolbar","SimpleBreadcrumbs","Breadcrumbs","activeClassName","exact","to","MenuDrawer","edge","Drawer","anchor","flexDirection","titleText","alignSelf","closeButton","palette","grey","video","videoContainer","SignInPage","props","loginWithPopup","disableTypography","Typography","dividers","gutterBottom","choice","random","getMotivationalURL","paper","gridContainer","itemContainer","newPollDialog","bottom","right","PollPage","personal","dataLength","next","loader","endMessage","Grid","container","item","xs","sm","lg","App","snackbarOpen","setSnackbarOpen","Snackbar","autoHideDuration","message","TransitionComponent","Slide","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","defaults","font","family","join","size","domain","process","clientId","createTheme","main","ReactDOM","render","redirectUri","ThemeProvider","document","getElementById"],"mappings":"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","file":"static/js/main.56873294.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport {Button} from '@material-ui/core';\r\n\r\n\r\nconst options = {\r\n  maintainAspectRatio: false,\r\n  responsive: false,\r\n  indexAxis: 'y',\r\n  // Elements options apply to all of the options unless overridden in a dataset\r\n  // In this case, we are setting the border of each horizontal bar to be 2px wide\r\n  scales: {\r\n    x: {\r\n      display: false,\r\n      grid: {\r\n        display: false,\r\n      },\r\n      ticks: {\r\n        stepSize: 1,\r\n      },\r\n    },\r\n    y: {\r\n      grid: {\r\n        display: false,\r\n      },\r\n      ticks: {    \r\n        autoSkip: false,\r\n        stepSize: 2,\r\n      }\r\n    },\r\n  },\r\n  elements: {\r\n    bar: {\r\n      borderWidth: 2,\r\n      borderRadius: 100,\r\n    },\r\n  },\r\n  plugins: {\r\n    legend: {\r\n      display: false,\r\n      position: 'right',\r\n    },\r\n    title: {\r\n      display: false,\r\n      text: 'Chart.js Horizontal Bar Chart',\r\n    },\r\n  },\r\n};\r\n\r\nconst areEqual = (prev, cur) => {\r\n  return JSON.stringify(prev.data) == JSON.stringify(cur.data);\r\n}\r\n\r\nconst BarChart = React.memo(({getElementAtEvent, data}) => {\r\n  \r\n\r\n  return (\r\n  <Bar data={data} options={options} style={{width:\"100%\"}}/>\r\n  )\r\n}, areEqual);\r\n\r\nexport default BarChart;","import React, {useContext, useState} from 'react';\r\nconst SignInContext = React.createContext();\r\n\r\nexport function useSignIn(){\r\n  return useContext(SignInContext);\r\n}\r\n\r\nexport function SignInProvider({children}){\r\n  const [signInOpen, setSignInOpen] = useState(false);\r\n  const [signInMsg, setSignInMsg] = useState(\"\");\r\n\r\n  return (\r\n    <SignInContext.Provider value={[signInOpen, setSignInOpen, signInMsg, setSignInMsg]}>\r\n      {children}\r\n    </SignInContext.Provider>\r\n  )\r\n}","import React, { useContext, useState, useEffect, useRef } from \"react\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nconst SQLContext = React.createContext();\r\nconst ENDPOINT = \"https://gif-vote.herokuapp.com\";\r\n\r\nexport function useSQL() {\r\n  return useContext(SQLContext);\r\n}\r\n\r\nexport function SQLProvider({ children }) {\r\n  const [signInOpen, setSignInOpen] = useState(false);\r\n  const [signInMsg, setSignInMsg] = useState(\"\");\r\n  const [data, setData] = useState([]);\r\n  const result = useRef(10);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const [isPersonal, setIsPersonal] = useState(0);\r\n  const [userId, setUserId] = useState(\"507\");\r\n  const { isAuthenticated, user, logout, isLoading } = useAuth0();\r\n  const [sortBy, setSortBy] = useState(\"vote\");\r\n\r\n  useEffect(() => {\r\n    console.log(\"change\", JSON.parse(JSON.stringify(data)));\r\n    if (data.length == 0) {\r\n      getDataset();\r\n    }\r\n  }, [data]);\r\n\r\n  useEffect(() => {\r\n    refreshDataset();\r\n  }, [isPersonal, sortBy]);\r\n\r\n  const getUserData = (user) => {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(\r\n        `${ENDPOINT}/api-get-user/?user_email=${user.email}&user_name=${user.nickname}&user_avatar=${user.picture}`,\r\n        { method: \"POST\" }\r\n      )\r\n        .then((res) => {\r\n          console.log(res);\r\n          return res.json();\r\n        })\r\n        .then((results) => {\r\n          console.log(\"userId = \", results);\r\n          if (results && results[0] && results[0].id) {\r\n            setUserId(String(results[0].id));\r\n          } else {\r\n            logout();\r\n          }\r\n          resolve(results);\r\n        })\r\n        .catch(reject);\r\n    });\r\n  };\r\n\r\n  const getDataset = () => {\r\n    return new Promise((resolve, reject) => {\r\n      console.log(\"getting data\", data.length, result.current);\r\n      if (data.length > result.current || !hasMore) {\r\n        return;\r\n      }\r\n\r\n      console.log(\"calling API\", result.current);\r\n      fetch(\r\n        `${ENDPOINT}/api-vote/?user_id=${userId}&result=${result.current}&isPersonal=${isPersonal}&sortBy=${sortBy}`\r\n      )\r\n        .then((res) => res.json())\r\n        .then((results) => {\r\n          console.log(\"success\", results);\r\n          let temp = {};\r\n          for (let i = 0; i < results.length; i++) {\r\n            let {\r\n              poll_id,\r\n              poll_text,\r\n              gifurl: gifURL,\r\n              option_id,\r\n              option_name,\r\n              votecount: voteCount,\r\n              totalvotecount: totalVoteCount,\r\n              created_by,\r\n              user_avatar,\r\n              created_at,\r\n              isvoted_bool: isVoted_bool,\r\n              isvoted_option_id: isVoted_option_id,\r\n              comment_count,\r\n              num_likes,\r\n              user_liked,\r\n            } = results[i];\r\n            if (!(poll_id in temp)) {\r\n              temp[poll_id] = {\r\n                poll_text,\r\n                poll_id,\r\n                gifURL,\r\n                totalVoteCount,\r\n                created_by,\r\n                user_avatar,\r\n                created_at,\r\n                options: [],\r\n                isVoted_bool,\r\n                isVoted_option_id,\r\n                comment_count,\r\n                num_likes,\r\n                user_liked,\r\n                chartData: {\r\n                  labels: [],\r\n                  datasets: [\r\n                    {\r\n                      barThickness: 10,\r\n                      maxBarThickness: 10,\r\n                      label: \"# of Votes\",\r\n                      data: [],\r\n                      backgroundColor: [],\r\n                    },\r\n                  ],\r\n                },\r\n                voteData: [],\r\n              };\r\n            }\r\n\r\n            temp[poll_id].options.push({ option_id, option_name, voteCount });\r\n            temp[poll_id].chartData.labels.push(option_name);\r\n            temp[poll_id].chartData.datasets[0].data.push(Number(voteCount));\r\n            if (isVoted_option_id == option_id) {\r\n              temp[poll_id].chartData.datasets[0].backgroundColor.push(\r\n                \"rgba(34, 191, 160, 1)\"\r\n              );\r\n            } else {\r\n              temp[poll_id].chartData.datasets[0].backgroundColor.push(\r\n                \"rgba(10, 10, 10, 0.5)\"\r\n              );\r\n            }\r\n\r\n            temp[poll_id].voteData.push({\r\n              option_id: option_id,\r\n              text: option_name,\r\n              votes: Number(voteCount),\r\n            });\r\n          }\r\n          let arr = Object.values(temp);\r\n          console.log(\"sortBy\", sortBy);\r\n          switch (sortBy) {\r\n            case \"vote\":\r\n              arr.sort((a, b) => b.totalVoteCount - a.totalVoteCount);\r\n              break;\r\n            case \"time\":\r\n              arr.sort((a, b) => b.poll_id - a.poll_id);\r\n              break;\r\n            case \"like\":\r\n              arr.sort((a, b) => b.num_likes - a.num_likes);\r\n          }\r\n          setData([...data, ...arr]);\r\n          if (arr.length == 0) {\r\n            setHasMore(false);\r\n          }\r\n          console.log(\"new data\", arr);\r\n          resolve(data);\r\n        })\r\n        .catch(reject);\r\n    });\r\n  };\r\n\r\n  const refreshDataset = () => {\r\n    result.current = 10;\r\n    setHasMore(true);\r\n    setData([]);\r\n  };\r\n\r\n  const updateDataset = (pollId) => {\r\n    return new Promise((resolve, reject) => {\r\n      console.log(\"calling Update API\");\r\n      console.log(\"before before\", JSON.parse(JSON.stringify(data)));\r\n      fetch(\r\n        `${ENDPOINT}/api-vote-update/?user_id=${userId}&poll_id=${pollId}&isPersonal=${isPersonal}`\r\n      )\r\n        .then((res) => res.json())\r\n        .then((results) => {\r\n          console.log(\"success\", results);\r\n          let temp = {};\r\n          for (let i = 0; i < results.length; i++) {\r\n            let {\r\n              poll_id,\r\n              poll_text,\r\n              gifurl: gifURL,\r\n              option_id,\r\n              option_name,\r\n              votecount: voteCount,\r\n              totalvotecount: totalVoteCount,\r\n              created_by,\r\n              user_avatar,\r\n              created_at,\r\n              isvoted_bool: isVoted_bool,\r\n              isvoted_option_id: isVoted_option_id,\r\n              comment_count,\r\n              num_likes,\r\n              user_liked,\r\n            } = results[i];\r\n            if (!(poll_id in temp)) {\r\n              temp[poll_id] = {\r\n                poll_text,\r\n                poll_id,\r\n                gifURL,\r\n                totalVoteCount,\r\n                created_by,\r\n                user_avatar,\r\n                created_at,\r\n                options: [],\r\n                isVoted_bool,\r\n                isVoted_option_id,\r\n                comment_count,\r\n                num_likes,\r\n                user_liked,\r\n                chartData: {\r\n                  labels: [],\r\n                  datasets: [\r\n                    {\r\n                      barThickness: 10,\r\n                      maxBarThickness: 10,\r\n                      label: \"# of Votes\",\r\n                      data: [],\r\n                      backgroundColor: [],\r\n                    },\r\n                  ],\r\n                },\r\n                voteData: [],\r\n              };\r\n            }\r\n            temp[poll_id].options.push({ option_id, option_name, voteCount });\r\n            temp[poll_id].chartData.labels.push(option_name);\r\n            temp[poll_id].chartData.datasets[0].data.push(Number(voteCount));\r\n            if (isVoted_option_id == option_id) {\r\n              temp[poll_id].chartData.datasets[0].backgroundColor.push(\r\n                \"rgba(63, 81, 181, 1)\"\r\n              );\r\n            } else {\r\n              temp[poll_id].chartData.datasets[0].backgroundColor.push(\r\n                \"rgba(10, 10, 10, 0.5)\"\r\n              );\r\n            }\r\n\r\n            temp[poll_id].voteData.push({\r\n              option_id: option_id,\r\n              text: option_name,\r\n              votes: Number(voteCount),\r\n            });\r\n          }\r\n          let data_copy = JSON.parse(JSON.stringify(data));\r\n          console.log(\"before\", JSON.parse(JSON.stringify(data)));\r\n          for (let i = 0; i < data_copy.length; i++) {\r\n            if (data_copy[i].poll_id == pollId) {\r\n              data_copy[i] = JSON.parse(JSON.stringify(temp[pollId]));\r\n              break;\r\n            }\r\n          }\r\n          console.log(data_copy);\r\n          setData(JSON.parse(JSON.stringify(data_copy)));\r\n          resolve(data_copy);\r\n        })\r\n        .catch(reject);\r\n    });\r\n  };\r\n\r\n  const handleFetchMoreData = () => {\r\n    console.log(\"fetching more data \", result, data.length);\r\n    if (data.length < result.current) {\r\n      console.log(\"cancel fetch more data\");\r\n      return;\r\n    }\r\n    result.current += 10;\r\n    getDataset();\r\n  };\r\n\r\n  const submitVote = ({ user_id, poll_id, option_id }) => {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(\r\n        `${ENDPOINT}/api-update/?user_id=${user_id}&poll_id=${poll_id}&option_id=${option_id}`,\r\n        { method: \"POST\" }\r\n      )\r\n        .then((res) => {\r\n          console.log(res);\r\n          res.json();\r\n        })\r\n        .then((results) => {\r\n          console.log(\"update\", results);\r\n          updateDataset(poll_id);\r\n          resolve(\"OK\");\r\n        })\r\n        .catch(reject);\r\n    });\r\n  };\r\n\r\n  const getComments = (poll_id) => {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(`${ENDPOINT}/api-comments/?poll_id=${poll_id}`)\r\n        .then((res) => res.json())\r\n        .then((results) => {\r\n          console.log(\"comments\", results);\r\n          resolve(results);\r\n        })\r\n        .catch(reject);\r\n    });\r\n  };\r\n\r\n  const submitComment = ({ user_id, poll_id, comment }) => {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(\r\n        `${ENDPOINT}/api-insert-comments/?poll_id=${poll_id}&user_id=${user_id}&comment_text=${comment}`,\r\n        {\r\n          method: \"POST\",\r\n        }\r\n      )\r\n        .then((res) => res.json())\r\n        .then(async (results) => {\r\n          console.log(\"comment inserted\", results);\r\n          updateDataset(poll_id);\r\n          resolve(\"OK\");\r\n        })\r\n        .catch(reject);\r\n    });\r\n  };\r\n\r\n  const submitLike = ({ poll_id, user_id }) => {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(\r\n        `${ENDPOINT}/api-insert-like/?poll_id=${poll_id}&user_id=${user_id}`,\r\n        {\r\n          method: \"POST\",\r\n        }\r\n      )\r\n        .then((res) => res.json())\r\n        .then((results) => {\r\n          console.log(\"like inserted\", results);\r\n          updateDataset(poll_id);\r\n          resolve(\"OK\");\r\n        })\r\n        .catch(reject);\r\n    });\r\n  };\r\n\r\n  const submitPoll = ({ user_id, question, options }) => {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(\r\n        `${ENDPOINT}/api-new-poll/?user_id=${user_id}&question=${question}&options=${options}`,\r\n        {\r\n          method: \"POST\",\r\n        }\r\n      )\r\n        .then((res) => {\r\n          console.log(\"hello1\", res);\r\n          return res.json();\r\n        })\r\n        .then((results) => {\r\n          console.log(\"hello2\", results);\r\n          resolve(\"OK\");\r\n        })\r\n        .catch(reject);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <SQLContext.Provider\r\n      value={{\r\n        data,\r\n        getUserData,\r\n        getDataset,\r\n        updateDataset,\r\n        refreshDataset,\r\n        handleFetchMoreData,\r\n        isPersonal,\r\n        setIsPersonal,\r\n        hasMore,\r\n        userId,\r\n        setSortBy,\r\n        submitVote,\r\n        getComments,\r\n        submitComment,\r\n        submitLike,\r\n        submitPoll,\r\n      }}\r\n    >\r\n      {children}\r\n    </SQLContext.Provider>\r\n  );\r\n}\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport VisibilitySensor from \"react-visibility-sensor\";\r\nimport clsx from \"clsx\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n  Avatar,\r\n  Box,\r\n  Button,\r\n  Card,\r\n  Collapse,\r\n  Divider,\r\n  IconButton,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemAvatar,\r\n  TextField,\r\n  Menu,\r\n  MenuItem,\r\n  ListItemIcon,\r\n} from \"@material-ui/core\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport BarChart from \"./BarChart.js\";\r\nimport LeafChart from \"./LeafChart.js\";\r\nimport KeyboardArrowRightIcon from \"@material-ui/icons/KeyboardArrowRight\";\r\nimport PersonIcon from \"@material-ui/icons/Person\";\r\nimport ScheduleIcon from \"@material-ui/icons/Schedule\";\r\nimport WhatshotIcon from \"@material-ui/icons/Whatshot\";\r\nimport CommentOutlinedIcon from \"@material-ui/icons/CommentOutlined\";\r\nimport SendIcon from \"@material-ui/icons/Send\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport { useSignIn } from \"../contexts/SignInContext\";\r\nimport { useSQL } from \"../contexts/SQLContext.js\";\r\nimport FavoriteBorderIcon from \"@material-ui/icons/FavoriteBorder\";\r\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\r\nimport ChatBubbleOutlineIcon from \"@material-ui/icons/ChatBubbleOutline\";\r\nimport ChatBubbleIcon from \"@material-ui/icons/ChatBubble\";\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nimport ShareIcon from \"@material-ui/icons/Share\";\r\nimport ReportProblemIcon from \"@material-ui/icons/ReportProblem\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    marginBottom: \"auto\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  bullet: {\r\n    display: \"inline-block\",\r\n    margin: \"0 2px\",\r\n    transform: \"scale(0.8)\",\r\n  },\r\n  title: {\r\n    fontSize: 14,\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n  expand: {\r\n    transform: \"rotate(0deg)\",\r\n    marginLeft: \"auto\",\r\n    transition: theme.transitions.create(\"transform\", {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  },\r\n  expandOpen: {\r\n    transform: \"rotate(180deg)\",\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    textTransform: \"none\",\r\n  },\r\n  buttonGroup: {\r\n    margin: theme.spacing(1),\r\n    maxHeight: \"30vh\",\r\n    overflow: \"scroll\",\r\n  },\r\n  barChart: {\r\n    maxHeight: \"20vh\",\r\n    overflow: \"scroll\",\r\n  },\r\n  subtitle: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    textAlign: \"center\",\r\n    verticalAlign: \"middle\",\r\n  },\r\n  comment: {\r\n    marginLeft: \"auto\",\r\n    textTransform: \"none\",\r\n  },\r\n  commentBox: {\r\n    display: \"flex\",\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  like: {\r\n    marginRight: \"auto\",\r\n    marginLeft: \"auto\",\r\n    textTransform: \"none\",\r\n  },\r\n  list: {\r\n    maxHeight: \"30vh\",\r\n    overflow: \"scroll\",\r\n    backgroundColor: \"#f5f5f5\",\r\n  },\r\n  moreButton: {\r\n    marginLeft: \"auto\",\r\n    padding: theme.spacing(0.5),\r\n  },\r\n  titleBox: {\r\n    display: \"flex\",\r\n    alignItems: \"flex-start\",\r\n  },\r\n  vote: {\r\n    marginRight: \"auto\",\r\n    textTransform: \"none\",\r\n  },\r\n}));\r\n\r\nconst areEqual = (prev, cur) => {\r\n  /*\r\n  console.log(\"compare\", prev.title === cur.title, prev.created_by === cur.created_by, prev.created_at === cur.created_at, prev.user_id===cur.user_id, JSON.stringify(prev.data) === JSON.stringify(cur.data), prev.poll_id === cur.poll_id, prev.isVoted_bool === cur.isVoted_bool, JSON.stringify(prev.chartData) === JSON.stringify(cur.chartData));\r\n  if (prev.data != cur.data){\r\n    console.log(\"data\", JSON.stringify(prev.data), JSON.stringify(cur.data), JSON.stringify(prev.data) === JSON.stringify(cur.data));\r\n  }\r\n  if (prev.chartData != cur.chartData){\r\n    console.log(\"chartData\", JSON.stringify(prev.chartData), JSON.stringify(cur.chartData), JSON.stringify(prev.chartData) === JSON.stringify(cur.chartData));\r\n  }*/\r\n  //console.log(\"check addCount\",prev.addCount, cur.addCount, prev.addCount === cur.addCount)\r\n  return (\r\n    prev.title === cur.title &&\r\n    prev.created_by === cur.created_by &&\r\n    prev.created_at === cur.created_at &&\r\n    prev.user_id === cur.user_id &&\r\n    JSON.stringify(prev.data) == JSON.stringify(cur.data) &&\r\n    prev.poll_id === cur.poll_id &&\r\n    prev.isVoted_bool === cur.isVoted_bool &&\r\n    JSON.stringify(prev.chartData) == JSON.stringify(cur.chartData) &&\r\n    prev.comment_count == cur.comment_count &&\r\n    prev.gifURL == cur.gifURL &&\r\n    prev.num_likes == cur.num_likes &&\r\n    prev.user_liked == cur.user_liked\r\n  );\r\n};\r\n\r\nconst Poll = React.memo(\r\n  ({\r\n    gifURL,\r\n    addCount,\r\n    title,\r\n    created_by,\r\n    user_avatar,\r\n    created_at,\r\n    user_id,\r\n    winner,\r\n    data,\r\n    poll_id,\r\n    isVoted_bool,\r\n    isVoted_option_id,\r\n    chartData,\r\n    totalVoteCount,\r\n    comment_count,\r\n    num_likes,\r\n    user_liked,\r\n  }) => {\r\n    const classes = useStyles();\r\n    const { loginWithRedirect, isAuthenticated } = useAuth0();\r\n    const [signInOpen, setSignInOpen, signInMsg, setSignInMsg] = useSignIn();\r\n    const videoRef = useRef(null);\r\n    const [isVisible, setIsVisible] = useState(false);\r\n    const {\r\n      getUserData,\r\n      getDataset,\r\n      updateDataset,\r\n      refreshDataset,\r\n      handleFetchMoreData,\r\n      isPersonal,\r\n      setIsPersonal,\r\n      hasMore,\r\n      userId,\r\n      setSortBy,\r\n      submitVote,\r\n      getComments,\r\n      submitComment,\r\n      submitLike,\r\n    } = useSQL();\r\n\r\n    /*\r\n  useEffect(() => {\r\n    if (isVisible) {\r\n      videoRef.current.play();\r\n    } else {\r\n      if (videoRef.current.play) {\r\n        videoRef.current.pause();\r\n      }\r\n    }\r\n  }, [isVisible]);\r\n*/\r\n    const handleVote = async (event, option_id) => {\r\n      if (!isAuthenticated) {\r\n        setSignInMsg(\"Sign in to vote\");\r\n        setSignInOpen(true);\r\n        return;\r\n      }\r\n\r\n      const result = await submitVote({ user_id, poll_id, option_id });\r\n      console.log(\"voted\", option_id, result);\r\n    };\r\n\r\n    const getDate = (date) => {\r\n      const a = new Date(date);\r\n      const b = new Date();\r\n      const utc1 = Date.UTC(\r\n        a.getFullYear(),\r\n        a.getMonth(),\r\n        a.getDate(),\r\n        a.getHours(),\r\n        a.getMinutes(),\r\n        a.getSeconds()\r\n      );\r\n      const utc2 = Date.UTC(\r\n        b.getFullYear(),\r\n        b.getMonth(),\r\n        b.getDate(),\r\n        b.getHours(),\r\n        b.getMinutes(),\r\n        b.getSeconds()\r\n      );\r\n      const _MS_PER_DAY = 1000 * 60 * 60 * 24;\r\n\r\n      let sec_diff = Math.floor((utc2 - utc1) / 1000);\r\n      let day_diff = Math.floor((utc2 - utc1) / _MS_PER_DAY);\r\n      if (sec_diff < 60) {\r\n        return Math.round(sec_diff) + \"s\";\r\n      } else if (sec_diff < 3600) {\r\n        return Math.round(sec_diff / 60) + \"m\";\r\n      } else if (sec_diff < 86400) {\r\n        return Math.round(sec_diff / 86400) + \"h\";\r\n      } else if (day_diff < 7) {\r\n        return Math.round(day_diff) + \"d\";\r\n      } else if (day_diff < 365) {\r\n        return Math.round(day_diff / 7) + \"w\";\r\n      } else {\r\n        return Math.round(day_diff / 365) + \"y\";\r\n      }\r\n    };\r\n\r\n    return (\r\n      <Card className={classes.root} variant=\"outlined\">\r\n        <CardContent>\r\n          <Box className={classes.titleBox}>\r\n            <ListItem>\r\n              <ListItemAvatar>\r\n                <Avatar\r\n                  alt={\"Guest\"}\r\n                  className={classes.avatar}\r\n                  src={user_avatar}\r\n                >\r\n                  <AccountCircle />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText\r\n                primary={title}\r\n                secondary={created_by + \" \" + getDate(created_at) + \" ago\"}\r\n              />\r\n            </ListItem>\r\n            <OptionDropdown />\r\n          </Box>\r\n        </CardContent>\r\n        <video width=\"90%\" height=\"auto\" loop muted autoPlay playsInline>\r\n          <source src={gifURL} />\r\n        </video>\r\n        {isVoted_bool == 1 && (\r\n          <CardContent className={classes.barChart}>\r\n            <BarChart data={chartData} />\r\n          </CardContent>\r\n        )}\r\n        {isVoted_bool == 2 && (\r\n          <List component=\"nav\" aria-label=\"main choices\">\r\n            {data.map(({ text, option_id }, index) => (\r\n              <ListItem\r\n                key={index}\r\n                button\r\n                onClick={(event) => handleVote(event, option_id)}\r\n              >\r\n                <ListItemText primary={text} inset />\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n        )}\r\n        <Box className={classes.buttonGroup}>\r\n          {isVoted_bool == 0 &&\r\n            data.map(({ text, option_id }, index) => (\r\n              <Button\r\n                key={index}\r\n                variant=\"outlined\"\r\n                color=\"primary\"\r\n                className={classes.button}\r\n                onClick={(event) => handleVote(event, option_id)}\r\n              >\r\n                {text}\r\n              </Button>\r\n            ))}\r\n        </Box>\r\n        <Divider />\r\n        <LikeComments\r\n          poll_id={poll_id}\r\n          user_id={user_id}\r\n          totalVoteCount={totalVoteCount}\r\n          user_liked={user_liked}\r\n          num_likes={num_likes}\r\n          comment_count={comment_count}\r\n          getDate={getDate}\r\n        />\r\n      </Card>\r\n    );\r\n  },\r\n  areEqual\r\n);\r\nexport default Poll;\r\n\r\nconst OptionDropdown = () => {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <IconButton className={classes.moreButton} onClick={handleClick}>\r\n        <MoreVertIcon />\r\n      </IconButton>\r\n      <Menu\r\n        id=\"simple-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        {false && (\r\n          <MenuItem onClick={handleClose}>\r\n            <ListItemIcon>\r\n              <ShareIcon />\r\n            </ListItemIcon>\r\n            <ListItemText>Share</ListItemText>\r\n          </MenuItem>\r\n        )}\r\n        <MenuItem>\r\n          <Button\r\n            href=\"mailto:gifvote0@gmail.com\"\r\n            style={{ textTransform: \"none\" }}\r\n          >\r\n            <ListItemIcon>\r\n              <ReportProblemIcon />\r\n            </ListItemIcon>\r\n            <ListItemText>Report</ListItemText>\r\n          </Button>\r\n        </MenuItem>\r\n      </Menu>\r\n    </>\r\n  );\r\n};\r\n\r\nconst LikeComments = ({\r\n  poll_id,\r\n  user_id,\r\n  totalVoteCount,\r\n  user_liked,\r\n  num_likes,\r\n  comment_count,\r\n  getDate,\r\n}) => {\r\n  const classes = useStyles();\r\n  const [expanded, setExpanded] = useState(false);\r\n  const [comments, setComments] = useState([]);\r\n  const [comment, setComment] = useState(\"\");\r\n  const { loginWithRedirect, isAuthenticated, user } = useAuth0();\r\n  const [signInOpen, setSignInOpen, signInMsg, setSignInMsg] = useSignIn();\r\n  const { getComments, submitComment, submitLike } = useSQL();\r\n\r\n  const handleExpandClick = () => {\r\n    setExpanded(!expanded);\r\n  };\r\n\r\n  const handleComment = async () => {\r\n    if (expanded == false) {\r\n      const results = await getComments(poll_id);\r\n      if (results) {\r\n        setComments(results);\r\n      }\r\n    }\r\n\r\n    setExpanded(!expanded);\r\n  };\r\n\r\n  const handleSubmitComment = async () => {\r\n    if (!isAuthenticated) {\r\n      setSignInMsg(\"Sign in to comment\");\r\n      setSignInOpen(true);\r\n      return;\r\n    }\r\n\r\n    const response = await submitComment({ poll_id, user_id, comment });\r\n    if (response == \"OK\") {\r\n      const result = await getComments(poll_id);\r\n      if (result) {\r\n        setComments(result);\r\n      }\r\n      setComment(\"\");\r\n    }\r\n  };\r\n\r\n  const handleLike = async () => {\r\n    if (!isAuthenticated) {\r\n      setSignInMsg(\"Sign in to like\");\r\n      setSignInOpen(true);\r\n      return;\r\n    }\r\n\r\n    const response = await submitLike({ poll_id, user_id });\r\n    console.log(\"submit like\", response);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <CardActions disableSpacing>\r\n        <Button className={classes.vote} startIcon={<WhatshotIcon />}>\r\n          {totalVoteCount} {totalVoteCount == 1 ? \" Vote\" : \"Votes\"}\r\n        </Button>\r\n        <Button\r\n          className={classes.like}\r\n          onClick={handleLike}\r\n          startIcon={\r\n            user_liked == 1 ? (\r\n              <FavoriteIcon color=\"secondary\" />\r\n            ) : (\r\n              <FavoriteBorderIcon />\r\n            )\r\n          }\r\n        >\r\n          {num_likes} {num_likes == 1 ? \" Like\" : \"Likes\"}\r\n        </Button>\r\n        <Button\r\n          className={classes.comment}\r\n          onClick={handleComment}\r\n          startIcon={\r\n            expanded == true ? (\r\n              <ChatBubbleIcon color=\"primary\" />\r\n            ) : (\r\n              <ChatBubbleOutlineIcon />\r\n            )\r\n          }\r\n        >\r\n          {comment_count} {comment_count == 1 ? \" Comment\" : \"Comments\"}\r\n        </Button>\r\n      </CardActions>\r\n      <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n        <CardContent>\r\n          <List className={classes.list} dense>\r\n            {comments.map(\r\n              ({ user_name, created_at, user_avatar, comment_text }, index) => (\r\n                <ListItem key={index}>\r\n                  <ListItemAvatar>\r\n                    <Avatar src={user_avatar} />\r\n                  </ListItemAvatar>\r\n                  <ListItemText\r\n                    secondary={user_name + \" \" + getDate(created_at) + \" ago\"}\r\n                    primary={comment_text}\r\n                  />\r\n                </ListItem>\r\n              )\r\n            )}\r\n          </List>\r\n          <Divider />\r\n          <Box className={classes.commentBox}>\r\n            {isAuthenticated && (\r\n              <Avatar\r\n                src={user.picture}\r\n                alt={user.name}\r\n                className={classes.avatar}\r\n              />\r\n            )}\r\n            {!isAuthenticated && (\r\n              <Avatar alt={\"Guest\"} className={classes.avatar}>\r\n                <AccountCircle />\r\n              </Avatar>\r\n            )}\r\n            <TextField\r\n              label=\"Add a comment...\"\r\n              variant=\"outlined\"\r\n              value={comment}\r\n              onChange={(event) => {\r\n                event.preventDefault();\r\n                setComment(event.target.value);\r\n              }}\r\n              fullWidth\r\n            />\r\n            <IconButton color=\"primary\" onClick={handleSubmitComment}>\r\n              <SendIcon />\r\n            </IconButton>\r\n          </Box>\r\n        </CardContent>\r\n      </Collapse>\r\n    </>\r\n  );\r\n};\r\n","import React, {useState} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {Box, Button, IconButton} from '@material-ui/core';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport { useSignIn } from '../contexts/SignInContext';\r\nimport { useSQL } from '../contexts/SQLContext.js';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n  },\r\n  button: {\r\n    transform: \"scale(2)\"\r\n  },\r\n  optionContainer: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n  },\r\n  addOptionButton: {\r\n    textTransform: \"none\",\r\n    margin: theme.spacing(1)\r\n  },\r\n  formButton: {\r\n    textTransform: \"none\",\r\n  }\r\n}));\r\n\r\nexport default function FormDialog() {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = useState(false);\r\n  const [options, setOptions] = useState([{val:\"\",err:\"\"}, {val:\"\",err:\"\"}]);\r\n  const [question, setQuestion] = useState({val:\"\",err:\"\"});\r\n  const {loginWithRedirect, isAuthenticated} = useAuth0();\r\n  const [signInOpen, setSignInOpen, signInMsg, setSignInMsg] = useSignIn();\r\n  const { refreshDataset, submitPoll, userId} = useSQL();\r\n  const history = useHistory();\r\n\r\n  const handleClickOpen = () => {\r\n    if (!isAuthenticated){\r\n      setSignInMsg(\"Sign in to create poll\");\r\n      setSignInOpen(true);\r\n      return ;\r\n    }\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOptions([{val:\"\",err:\"\"}, {val:\"\",err:\"\"}])\r\n    setQuestion({val:\"\",err:\"\"})\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleAddOption = () =>{\r\n    if (options.length < 10) {setOptions([...options,{val:\"\",err:\"\"}])}\r\n  };\r\n\r\n  const handleOptionField = (event, index) => {\r\n    event.preventDefault();\r\n    if (event.target.value.length > 20){\r\n      return ;\r\n    }\r\n\r\n    let temp = [...options];\r\n    temp[index] = {val:event.target.value, err:\"\"};\r\n    setOptions(temp);\r\n    console.log(event.target.value, index);\r\n  }\r\n\r\n  const handleDeleteField = (event, index) => {\r\n    event.preventDefault();\r\n    let temp = [...options];\r\n    temp.splice(index, 1);\r\n    setOptions(temp);\r\n  }\r\n\r\n  const handleCreatePoll = async() => {\r\n    if (question.val.trim() == \"\"){setQuestion({val:question.val, err: \"Cannot be blank\"}); return}\r\n    for (let i = 0; i < options.length; i++){\r\n      if (options[i].val.trim() == \"\"){\r\n        let temp = [...options];\r\n        temp[i].err = \"Cannot be blank\";\r\n        setOptions(temp);\r\n        return\r\n      }\r\n    }\r\n\r\n    let temp = [...options];\r\n    for (let i = 0; i < temp.length; i++){\r\n      temp[i] = temp[i].val.trim();\r\n    }\r\n\r\n    const response = await submitPoll({user_id: userId, question:question.val.trim(), options:JSON.stringify(temp)});\r\n    if (response==\"OK\"){\r\n      refreshDataset();\r\n      handleClose();\r\n      history.push(\"/your\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <IconButton color=\"primary\" aria-label=\"new poll\" component=\"span\" onClick={handleClickOpen} className={classes.button}>\r\n          <AddCircleIcon />\r\n        </IconButton>\r\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">Create New Poll</DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            autoFocus\r\n            error = {question.err != \"\"}\r\n            helperText = {question.err}\r\n            margin=\"dense\"\r\n            id=\"name\"\r\n            label=\"Question\"\r\n            value={question.val}\r\n            onChange={(event)=>setQuestion({val:event.target.value.slice(0, Math.min(event.target.value.length, 50)), err:\"\"})}\r\n            fullWidth\r\n          />\r\n          \r\n          {options.map(({val, err}, index)=>(\r\n            <Box key={index} className={classes.optionContainer}>\r\n              <TextField\r\n              error = {err != \"\"}\r\n              helperText = {err}\r\n              margin=\"dense\"\r\n              id=\"name\"\r\n              label={\"Option \"+(index+1)}\r\n              value={val}\r\n              onChange={(event)=>handleOptionField(event, index)}\r\n              fullWidth\r\n              />\r\n              <IconButton aria-label=\"delete\" onClick={(event)=>handleDeleteField(event, index)} disabled={index in [0, 1]}>\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            </Box>\r\n            )\r\n          )}\r\n          <Button\r\n            className={classes.addOptionButton}\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            startIcon={<AddIcon/>}\r\n            onClick={handleAddOption}\r\n            disabled={options.length >= 10}\r\n          >\r\n            Add Option\r\n          </Button>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"secondary\" variant=\"outlined\" className={classes.formButton}>\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleCreatePoll} color=\"primary\" variant=\"contained\" className={classes.formButton}>\r\n            Create\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport { useSignIn } from '../contexts/SignInContext';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function SimpleSelect({isOpen, setIsOpen}) {\r\n  const classes = useStyles();\r\n  const {isAuthenticated} = useAuth0();\r\n  const [signInOpen, setSignInOpen, signInMsg, setSignInMsg] = useSignIn();\r\n\r\n  const handleChange = (event) => {\r\n    if (event.target.value == false && !isAuthenticated){\r\n      setSignInMsg(\"Sign in to see your polls\");\r\n      setSignInOpen(true);\r\n      return ;\r\n    }\r\n    setIsOpen(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <FormControl className={classes.formControl}>\r\n        <Select\r\n          labelId=\"demo-simple-select-label\"\r\n          id=\"demo-simple-select\"\r\n          value={isOpen}\r\n          onChange={handleChange}\r\n        >\r\n          <MenuItem value={true}>All Polls</MenuItem>\r\n          <MenuItem value={false}>Your Polls</MenuItem>\r\n        </Select>\r\n      </FormControl>\r\n    </div>\r\n    )\r\n  }","import React, {useState} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {AppBar, Button, Drawer, List, ListItem, ListItemAvatar, ListItemText, ListItemIcon, Divider} from '@material-ui/core';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport { Breadcrumbs } from '@material-ui/core';\r\nimport DropdownMenu from './DropdownMenu.js';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport { BiLogIn, BiLogOut } from \"react-icons/bi\";\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport FeedbackIcon from '@material-ui/icons/Feedback';\r\nimport WhatshotIcon from '@material-ui/icons/Whatshot';\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\r\nimport ScheduleIcon from '@material-ui/icons/Schedule';\r\nimport FaceIcon from '@material-ui/icons/Face';\r\nimport GIFVoteLogo from '../images/gif_vote_logo3.png';\r\n\r\nimport {\r\n  NavLink\r\n} from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    color: \"black\"\r\n  },\r\n  toolbar: {\r\n    backgroundColor: \"#fafafa\",\r\n  },\r\n  passiveLink: {\r\n    display: 'flex',\r\n    alignItems: \"center\",\r\n    color: \"rgba(0, 0, 0, 0.54)\",\r\n    textDecoration: 'none',\r\n    '&:hover':{\r\n      textDecoration: \"underline\",\r\n    },\r\n  },\r\n  activeLink: {\r\n    display: 'flex',\r\n    color: \"rgba(34, 191, 160, 1)\",\r\n    textDecoration: \"underline\"\r\n  },\r\n  loginButton: {\r\n    marginLeft: theme.spacing(2)\r\n  },\r\n  breadcrumbs: {\r\n    marginLeft: \"auto\"\r\n  },\r\n  logo: {\r\n    height:\"35px\",\r\n    width:\"auto\",\r\n    maxWidth: \"50vw\",\r\n    margin: theme.spacing(1),\r\n  },\r\n  icon: {\r\n    marginRight: theme.spacing(0.5),\r\n    width: 20,\r\n    height: 20,\r\n  },\r\n}));\r\n\r\nexport default function MenuAppBar({isOpen, setIsOpen}) {\r\n  const classes = useStyles();\r\n  const [auth, setAuth] = React.useState(true);\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n  const {loginWithRedirect, logout, isAuthenticated, user} = useAuth0();\r\n\r\n  const handleChange = (event) => {\r\n    setAuth(event.target.checked);\r\n  };\r\n\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleLogIn = () => {\r\n    loginWithRedirect();\r\n    handleClose();\r\n  }\r\n  const handleLogOut = () => {\r\n    logout();\r\n    handleClose();\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"fixed\">\r\n        <Toolbar className={classes.toolbar}>\r\n          <MenuDrawer/>\r\n          <img className={classes.logo} alt=\"GIF Vote\" src={GIFVoteLogo} />\r\n          <SimpleBreadcrumbs />\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nconst SimpleBreadcrumbs = () => {\r\n  const classes = useStyles();\r\n  const {isAuthenticated} = useAuth0();\r\n\r\n  return (\r\n    <Breadcrumbs aria-label=\"breadcrumb\" className={classes.breadcrumbs}>\r\n      <NavLink className={classes.passiveLink} activeClassName={classes.activeLink} exact to=\"/\">\r\n        <WhatshotIcon className={classes.icon} />\r\n        Most Votes\r\n      </NavLink>\r\n      <NavLink className={classes.passiveLink} activeClassName={classes.activeLink} to=\"/most-like\">\r\n        <FavoriteBorderIcon className={classes.icon} />\r\n        Most Likes\r\n      </NavLink>\r\n      <NavLink className={classes.passiveLink} activeClassName={classes.activeLink} to=\"/latest\">\r\n        <ScheduleIcon className={classes.icon} />\r\n        Latest\r\n      </NavLink>\r\n      {isAuthenticated &&\r\n        <NavLink className={classes.passiveLink} activeClassName={classes.activeLink} to=\"/your\">\r\n          <FaceIcon className={classes.icon} />\r\n          Your Polls\r\n        </NavLink>\r\n      }\r\n    </Breadcrumbs>\r\n  );\r\n}\r\n\r\nconst MenuDrawer = () => {\r\n  const classes = useStyles();\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const {isAuthenticated, user, loginWithRedirect, logout} = useAuth0();\r\n\r\n  return (\r\n    <>\r\n      <IconButton edge=\"start\" className={classes.menuButton} color=\"textPrimary\" aria-label=\"menu\" onClick={()=>setIsOpen(!isOpen)}>\r\n        <MenuIcon />\r\n      </IconButton>\r\n      <Drawer anchor=\"left\" open={isOpen} onClose={()=>{setIsOpen(false)}}>\r\n        <List>\r\n          <ListItem>\r\n            <ListItemAvatar>\r\n              {isAuthenticated && \r\n                <Avatar src={user.picture} alt={user.name}/>\r\n              }\r\n              {!isAuthenticated &&\r\n                <Avatar alt={\"Guest\"}>\r\n                  <AccountCircle />\r\n                </Avatar>\r\n              }\r\n            </ListItemAvatar>\r\n            <ListItemText primary={ (user)?user.name:\"Guest\"} secondary={(user) ? user.email : \"Sign in to see your profile\"}/>\r\n\r\n              {isAuthenticated && \r\n                <IconButton className={classes.loginButton} onClick={logout}>\r\n                  <BiLogOut/>\r\n                </IconButton>\r\n              }\r\n              {!isAuthenticated &&\r\n                <IconButton className={classes.loginButton} onClick={loginWithRedirect}>\r\n                  <BiLogIn/>\r\n                </IconButton>\r\n              }\r\n          </ListItem>\r\n          <Divider/>\r\n          <ListItem button>\r\n            <ListItemIcon><FeedbackIcon/></ListItemIcon>\r\n            <ListItemText primary={\"Give Feedback\"} secondary={\"Help us improve GIF Votes\"} />\r\n          </ListItem>\r\n          <Divider/>\r\n          <ListItem button>\r\n            <ListItemIcon><SettingsIcon/></ListItemIcon>\r\n            <ListItemText primary={\"Settings\"} />\r\n          </ListItem>\r\n          <ListItem button>\r\n            <ListItemIcon><InfoIcon/></ListItemIcon>\r\n            <ListItemText primary={\"About\"} />\r\n          </ListItem>\r\n        </List>\r\n      </Drawer>\r\n    </>\r\n  );\r\n}","export default \"data:image/png;base64,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\"","import React, {useEffect} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {Button, Grid, Paper, Snackbar, Slide, Dialog, DialogTitle, IconButton, Typography, DialogContent  } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport { useSignIn } from '../contexts/SignInContext';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root:{\r\n  },\r\n  title: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n  },\r\n  titleText: {\r\n    alignSelf: \"center\",\r\n    marginRight: theme.spacing(2)\r\n  },\r\n  closeButton: {\r\n    marginLeft: \"auto\",\r\n    color: theme.palette.grey[500],\r\n  },\r\n  video: {\r\n    marginLeft: \"auto\",\r\n    marginRight: \"auto\"\r\n  },\r\n  videoContainer: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n  }\r\n}));\r\n\r\nfunction SignInPage(props) {\r\n  const classes = useStyles();\r\n  const [signInOpen, setSignInOpen, signInMsg, setSignInMsg] = useSignIn();\r\n  const {loginWithRedirect, loginWithPopup, isAuthenticated} = useAuth0();\r\n\r\n  useEffect(()=>{\r\n    if (isAuthenticated && signInOpen){\r\n      setSignInOpen(false);\r\n    }\r\n  }, [isAuthenticated])\r\n\r\n  const getMotivationalURL = () => {\r\n    let choice = [\r\n      \"https://media0.giphy.com/media/xT9DPnxOqFNu0vObyU/giphy-downsized-small.mp4?cid=ecf05e477ybh0yl5kdyzkwyz5g7ljply8vk3ixadsfv9ywjz&rid=giphy-downsized-small.mp4&ct=g\",\r\n      \"https://media0.giphy.com/media/l2Sq3jYHktALKdQJO/giphy-downsized-small.mp4?cid=ecf05e477ybh0yl5kdyzkwyz5g7ljply8vk3ixadsfv9ywjz&rid=giphy-downsized-small.mp4&ct=g\",\r\n      \"https://media1.giphy.com/media/ur5T6Wuw4xK2afXVmd/giphy-downsized-small.mp4?cid=ecf05e477ybh0yl5kdyzkwyz5g7ljply8vk3ixadsfv9ywjz&rid=giphy-downsized-small.mp4&ct=g\",\r\n      \"https://media2.giphy.com/media/26xBSxisb1xYv1dja/giphy-downsized-small.mp4?cid=ecf05e477ybh0yl5kdyzkwyz5g7ljply8vk3ixadsfv9ywjz&rid=giphy-downsized-small.mp4&ct=g\",\r\n      \"https://media0.giphy.com/media/rVaFLAGrPcmlQR1nmt/giphy-downsized-small.mp4?cid=ecf05e477ybh0yl5kdyzkwyz5g7ljply8vk3ixadsfv9ywjz&rid=giphy-downsized-small.mp4&ct=g\",\r\n      \"https://media1.giphy.com/media/xT9DPPqwOCoxi3ASWc/giphy-downsized-small.mp4?cid=ecf05e477ybh0yl5kdyzkwyz5g7ljply8vk3ixadsfv9ywjz&rid=giphy-downsized-small.mp4&ct=g\",\r\n      \"https://media0.giphy.com/media/xT9DPGsywQ5zMfR6KY/giphy-downsized-small.mp4?cid=ecf05e477ybh0yl5kdyzkwyz5g7ljply8vk3ixadsfv9ywjz&rid=giphy-downsized-small.mp4&ct=g\",\r\n      \"https://media4.giphy.com/media/26n6yBeeXFU8C5j8c/giphy-downsized-small.mp4?cid=ecf05e471vfffwv91zo73j3x8h4q83yeezw44y1j75uf3foo&rid=giphy-downsized-small.mp4&ct=g\",\r\n      \"https://media4.giphy.com/media/l1BgRkTSJlYgCVqHm/giphy-downsized-small.mp4?cid=ecf05e47lhwhdp46xml09m3af3257q7u8dtvdxamfntftgnh&rid=giphy-downsized-small.mp4&ct=g\"\r\n    ]\r\n    return choice[Math.floor((Math.random() * choice.length))]\r\n  }\r\n\r\n  return (      \r\n    <div>\r\n    <Dialog open={signInOpen} onClose={()=>{setSignInOpen(false)}} className={classes.root}>\r\n      <DialogTitle disableTypography className={classes.title}>\r\n        <Typography variant=\"h4\" className={classes.titleText}>\r\n          {signInMsg}\r\n        </Typography>\r\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={()=>{setSignInOpen(false)}}>\r\n          <CloseIcon />\r\n        </IconButton>  \r\n      </DialogTitle>\r\n      <DialogContent dividers className={classes.videoContainer}>\r\n        <Typography gutterBottom>Here's a GIF to start your day!</Typography>\r\n        <video width=\"60%\" height=\"auto\" autoPlay loop muted playsInline className={classes.video}>\r\n          <source src={getMotivationalURL()} />\r\n        </video>\r\n      </DialogContent>\r\n      <Button variant=\"contained\" color=\"primary\" onClick={loginWithRedirect}>Sign In</Button>\r\n    </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignInPage;","import {Button, Grid, Paper} from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useEffect, useState, useRef } from 'react';\r\nimport Poll from './Poll.js';\r\nimport PollForm from './PollForm.js';\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport FadeInSection from './FadeInSection';\r\nimport { useSQL } from '../contexts/SQLContext.js';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    marginTop: theme.spacing(8)\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    textAlign: 'center',\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  gridContainer:{\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    padding: theme.spacing(2)\r\n\r\n  },\r\n  itemContainer: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    padding: theme.spacing(2)\r\n  },\r\n  newPollDialog: {\r\n    position: \"fixed\",\r\n    bottom: \"5vmin\",\r\n    right: \"5vmin\",\r\n  }\r\n}));\r\n\r\n\r\nfunction PollPage({personal, sortBy}) {\r\n  const classes = useStyles();\r\n  const [pollPointer, setPollPointer] = useState(0);\r\n  const {data, getUserData, getDataset, updateDataset, refreshDataset, handleFetchMoreData, isPersonal, setIsPersonal, hasMore, userId, setSortBy} = useSQL();\r\n\r\n  useEffect(()=>{\r\n    setIsPersonal(personal);\r\n    setSortBy(sortBy);\r\n  }, [personal, sortBy])\r\n\r\n  useEffect(()=>{\r\n    refreshDataset();\r\n  }, [userId])\r\n\r\n\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n        <InfiniteScroll\r\n            dataLength={data.length}\r\n            next={handleFetchMoreData}\r\n            hasMore={hasMore}\r\n            loader={<h4>Loading...</h4>}\r\n            endMessage={\r\n              <p style={{ textAlign: \"center\" }}>\r\n                <b>Yay! You have seen it all</b>\r\n              </p>\r\n            }\r\n          >\r\n          <Grid container spacing={0} className={classes.gridContainer}>\r\n            {data.map(({poll_text, gifURL, created_by, user_avatar, created_at, winner, chartData, voteData, poll_id, isVoted_bool, isVoted_option_id, totalVoteCount, comment_count, num_likes, user_liked}, index)=>{\r\n              return (\r\n                <Grid key={index} item xs={12} sm={6} lg={4} className={classes.itemContainer}>\r\n                  <Poll gifURL={gifURL} key={index} user_id={userId} title={poll_text} created_by={created_by} user_avatar={user_avatar} created_at={created_at} winner={winner} chartData={chartData} data={voteData} poll_id={poll_id} isVoted_bool={isVoted_bool} totalVoteCount={totalVoteCount} comment_count={comment_count} num_likes={num_likes} user_liked={user_liked}/>\r\n                </Grid> \r\n                )         \r\n            })}\r\n            </Grid>\r\n        </InfiniteScroll>\r\n      <div className={classes.newPollDialog}>\r\n      <PollForm/>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PollPage;\r\n","import './App.css';\nimport {Button, Grid, Paper, Snackbar, Slide, Dialog } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useEffect, useState, useRef } from 'react';\nimport Poll from './components/Poll.js';\nimport PollForm from './components/PollForm.js';\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport DropdownMenu from './components/DropdownMenu';\nimport TopBar from './components/TopBar';\nimport SignInPage from './components/SignInPage';\nimport { useAuth0 } from '@auth0/auth0-react';\nimport { useSQL } from './contexts/SQLContext';\nimport { LocalDiningOutlined } from '@material-ui/icons';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\nimport PollPage from './components/PollPage';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n  },\n}));\n\nconst userName = \"Daren\"\nconst userEmail = \"daren@gmail.com\"\nconst userId = \"2\"\n\nfunction App() {\n  const classes = useStyles();\n  const [count, setCount] = useState(0);\n  const [isOpen, setIsOpen] = useState(true);\n  const {isAuthenticated, user, logout, isLoading} = useAuth0();\n  const {data, getUserData, getDataset, updateDataset, refreshDataset, handleFetchMoreData, isPersonal, setIsPersonal, hasMore, userId, setSortBy} = useSQL();\n\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n\n  useEffect(async ()=>{\n    if (isAuthenticated){\n\n      console.log(\"authenticated!\", user);\n      setSnackbarOpen(true);\n\n      const results = await getUserData(user);\n\n      console.log(\"user data\", results)\n    }\n  }, [isAuthenticated])\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <TopBar isOpen={isOpen} setIsOpen={setIsOpen}/>\n        <Snackbar open={snackbarOpen} autoHideDuration={6000} onClose={()=>setSnackbarOpen(false)} message=\"Signed In!\" TransitionComponent={Slide}/>\n\n        <SignInPage/>\n        <Switch>\n          <Route path=\"/your\">\n            <PollPage personal={1} sortBy={\"time\"}/>\n          </Route>\n          <Route path=\"/most-like\">\n            <PollPage personal={0} sortBy={\"like\"}/>\n          </Route>\n          <Route path=\"/latest\">\n            <PollPage personal={0} sortBy={\"time\"}/>\n          </Route>\n          <Route path=\"/\">\n            <PollPage personal={0} sortBy={\"vote\"}/>\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n\n\n/*\n        <Switch>\n          <Route path=\"/\">\n            <AllPoll userId={userId} isOpen={false} setIsOpen={setIsOpen}/>\n          </Route>\n          <Route path=\"/your\">\n            <MyPoll userId={userId} isOpen={true} setIsOpen={setIsOpen}/>\n          </Route>\n        </Switch>*/","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport { createTheme } from \"@material-ui/core/styles\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { Auth0Provider } from \"@auth0/auth0-react\";\nimport { SignInProvider } from \"./contexts/SignInContext\";\nimport { SQLProvider } from \"./contexts/SQLContext\";\nimport { defaults } from \"react-chartjs-2\";\ndefaults.font.family = [\n  \"-apple-system\",\n  \"BlinkMacSystemFont\",\n  '\"Segoe UI\"',\n  \"Roboto\",\n  '\"Helvetica Neue\"',\n  \"Arial\",\n  \"sans-serif\",\n  '\"Apple Color Emoji\"',\n  '\"Segoe UI Emoji\"',\n  '\"Segoe UI Symbol\"',\n].join(\",\");\ndefaults.font.size = 10;\nconsole.log(\"default\", defaults);\n\nconst domain = process.env.REACT_APP_AUTH0_DOMAIN;\nconst clientId = process.env.REACT_APP_AUTH0_CLIENT_ID;\nconsole.log(\"domain\", domain, clientId);\n\nconst theme = createTheme({\n  palette: {\n    primary: {\n      // Purple and green play nicely together.\n      main: \"#22bfa0\",\n    },\n  },\n});\n\nReactDOM.render(\n  <Auth0Provider\n    domain={domain}\n    clientId={clientId}\n    redirectUri=\"https://darenwong.github.io/GIFVote-web/\"\n  >\n    <SignInProvider>\n      <SQLProvider>\n        <ThemeProvider theme={theme}>\n          <App />\n        </ThemeProvider>\n      </SQLProvider>\n    </SignInProvider>\n  </Auth0Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}