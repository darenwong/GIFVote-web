(this["webpackJsonpvote-app"]=this["webpackJsonpvote-app"]||[]).push([[0],{193:function(e,t,n){},195:function(e,t,n){},316:function(e,t,n){},317:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(167),r=n(388),c=n(11),s=n.n(c),l=(n(193),n(23)),u=n.n(l),d=n(34),j=n(8),m=(n(195),n(393)),b=n(320),p=n(361),h=(n(196),n(4),n(363)),g=n(389),f=n(319),O=n(366),x=n(394),v=n(367),y=n(368),k=n(369),N=n(370),S=n(168),w=n(373),C=n(374),D=n(376),P=n(372),A=n(391),G=n(375),B=n(365),z=n(66),V=n(2),R={maintainAspectRatio:!1,responsive:!1,indexAxis:"y",scales:{x:{display:!1,grid:{display:!1},ticks:{stepSize:1}},y:{grid:{display:!1},ticks:{autoSkip:!1,stepSize:2}}},elements:{bar:{borderWidth:2,borderRadius:100}},plugins:{legend:{display:!1,position:"right"},title:{display:!1,text:"Chart.js Horizontal Bar Chart"}}},_=function(e){e.getElementAtEvent;var t=e.data;return Object(V.jsx)(z.a,{data:t,options:R,style:{width:"100%"}})},U=(n(146),n(303),n(93)),L=n.n(U),T=n(155),I=n.n(T),H=n(17),X=o.a.createContext();function Z(){return Object(a.useContext)(X)}function Q(e){var t=e.children,n=Object(a.useState)(!1),o=Object(j.a)(n,2),i=o[0],r=o[1],c=Object(a.useState)(""),s=Object(j.a)(c,2),l=s[0],u=s[1];return Object(V.jsx)(X.Provider,{value:{signInOpen:i,setSignInOpen:r,signInMsg:l,setSignInMsg:u},children:t})}var q=n(13),M=o.a.createContext(),W="https://gif-vote.herokuapp.com";function E(){return Object(a.useContext)(M)}function F(e){var t=e.children,n=Object(a.useState)(!1),o=Object(j.a)(n,2),i=(o[0],o[1],Object(a.useState)("")),r=Object(j.a)(i,2),c=(r[0],r[1],Object(a.useState)([])),s=Object(j.a)(c,2),l=s[0],m=s[1],b=Object(a.useRef)(10),p=Object(a.useState)(!0),h=Object(j.a)(p,2),g=h[0],f=h[1],O=Object(a.useState)(0),x=Object(j.a)(O,2),v=x[0],y=x[1],k=Object(a.useState)("507"),N=Object(j.a)(k,2),S=N[0],w=N[1],C=Object(H.b)(),D=(C.isAuthenticated,C.user,C.logout),P=(C.isLoading,Object(a.useState)("vote")),A=Object(j.a)(P,2),G=A[0],B=A[1];Object(a.useEffect)((function(){console.log("change",JSON.parse(JSON.stringify(l))),0==l.length&&z()}),[l]),Object(a.useEffect)((function(){R()}),[v,G]);var z=function(){return new Promise((function(e,t){console.log("getting data",l.length,b.current),l.length>b.current||!g||(console.log("calling API",b.current),fetch("".concat(W,"/api-vote/?user_id=").concat(S,"&result=").concat(b.current,"&isPersonal=").concat(v,"&sortBy=").concat(G)).then((function(e){return e.json()})).then((function(t){console.log("success",t);for(var n={},a=0;a<t.length;a++){var o=t[a],i=o.poll_id,r=o.poll_text,c=o.gifurl,s=o.option_id,u=o.option_name,d=o.votecount,j=o.totalvotecount,b=o.created_by,p=o.user_avatar,h=o.created_at,g=o.isvoted_bool,O=o.isvoted_option_id,x=o.comment_count,v=o.num_likes,y=o.user_liked;i in n||(n[i]={poll_text:r,poll_id:i,gifURL:c,totalVoteCount:j,created_by:b,user_avatar:p,created_at:h,options:[],isVoted_bool:g,isVoted_option_id:O,comment_count:x,num_likes:v,user_liked:y,chartData:{labels:[],datasets:[{barThickness:10,maxBarThickness:10,label:"# of Votes",data:[],backgroundColor:[]}]},voteData:[]}),n[i].options.push({option_id:s,option_name:u,voteCount:d}),n[i].voteData.push({option_id:s,text:u,votes:Number(d),backgroundColor:O==s?"rgba(34, 191, 160, 1)":"rgba(10, 10, 10, 0.5)"})}for(var k=Object.keys(n),N=function(e){var t=k[e];n[t].voteData.sort((function(e,t){return t.votes-e.votes})),n[t].voteData.map((function(e){var a=e.text,o=e.votes,i=e.backgroundColor;n[t].chartData.labels.push(a),n[t].chartData.datasets[0].data.push(o),n[t].chartData.datasets[0].backgroundColor.push(i)}))},S=0;S<k.length;S++)N(S);var w=Object.values(n);switch(console.log("sortBy",G),G){case"vote":w.sort((function(e,t){return t.totalVoteCount-e.totalVoteCount}));break;case"time":w.sort((function(e,t){return t.poll_id-e.poll_id}));break;case"like":w.sort((function(e,t){return t.num_likes-e.num_likes}))}m([].concat(Object(q.a)(l),Object(q.a)(w))),0==w.length&&f(!1),console.log("new data",w),e(l)})).catch(t))}))},R=function(){b.current=10,f(!0),m([])},_=function(e){return new Promise((function(t,n){console.log("calling Update API"),console.log("before before",JSON.parse(JSON.stringify(l))),fetch("".concat(W,"/api-vote-update/?user_id=").concat(S,"&poll_id=").concat(e,"&isPersonal=").concat(v)).then((function(e){return e.json()})).then((function(n){console.log("success",n);for(var a={},o=0;o<n.length;o++){var i=n[o],r=i.poll_id,c=i.poll_text,s=i.gifurl,u=i.option_id,d=i.option_name,j=i.votecount,b=i.totalvotecount,p=i.created_by,h=i.user_avatar,g=i.created_at,f=i.isvoted_bool,O=i.isvoted_option_id,x=i.comment_count,v=i.num_likes,y=i.user_liked;r in a||(a[r]={poll_text:c,poll_id:r,gifURL:s,totalVoteCount:b,created_by:p,user_avatar:h,created_at:g,options:[],isVoted_bool:f,isVoted_option_id:O,comment_count:x,num_likes:v,user_liked:y,chartData:{labels:[],datasets:[{barThickness:10,maxBarThickness:10,label:"# of Votes",data:[],backgroundColor:[]}]},voteData:[]}),a[r].options.push({option_id:u,option_name:d,voteCount:j}),a[r].voteData.push({option_id:u,text:d,votes:Number(j),backgroundColor:O==u?"rgba(34, 191, 160, 1)":"rgba(10, 10, 10, 0.5)"})}for(var k=Object.keys(a),N=function(e){var t=k[e];a[t].voteData.sort((function(e,t){return t.votes-e.votes})),a[t].voteData.map((function(e){var n=e.text,o=e.votes,i=e.backgroundColor;a[t].chartData.labels.push(n),a[t].chartData.datasets[0].data.push(o),a[t].chartData.datasets[0].backgroundColor.push(i)}))},S=0;S<k.length;S++)N(S);var w=JSON.parse(JSON.stringify(l));console.log("before",JSON.parse(JSON.stringify(l)));for(var C=0;C<w.length;C++)if(w[C].poll_id==e){w[C]=JSON.parse(JSON.stringify(a[e]));break}console.log(w),m(JSON.parse(JSON.stringify(w))),t(w)})).catch(n)}))};return Object(V.jsx)(M.Provider,{value:{data:l,getUserData:function(e){return new Promise((function(t,n){fetch("".concat(W,"/api-get-user/?user_email=").concat(e.email,"&user_name=").concat(e.nickname,"&user_avatar=").concat(e.picture),{method:"POST"}).then((function(e){return console.log(e),e.json()})).then((function(e){console.log("userId = ",e),e&&e[0]&&e[0].id?w(String(e[0].id)):D(),t(e)})).catch(n)}))},getDataset:z,updateDataset:_,refreshDataset:R,handleFetchMoreData:function(){console.log("fetching more data ",b,l.length),l.length<b.current?console.log("cancel fetch more data"):(b.current+=10,z())},isPersonal:v,setIsPersonal:y,hasMore:g,userId:S,setSortBy:B,submitVote:function(e){var t=e.user_id,n=e.poll_id,a=e.option_id;return new Promise((function(e,o){fetch("".concat(W,"/api-update/?user_id=").concat(t,"&poll_id=").concat(n,"&option_id=").concat(a),{method:"POST"}).then((function(e){console.log(e),e.json()})).then((function(t){console.log("update",t),_(n),e("OK")})).catch(o)}))},getComments:function(e){return new Promise((function(t,n){fetch("".concat(W,"/api-comments/?poll_id=").concat(e)).then((function(e){return e.json()})).then((function(e){console.log("comments",e),t(e)})).catch(n)}))},submitComment:function(e){var t=e.user_id,n=e.poll_id,a=e.comment;return new Promise((function(e,o){fetch("".concat(W,"/api-insert-comments/?poll_id=").concat(n,"&user_id=").concat(t,"&comment_text=").concat(a),{method:"POST"}).then((function(e){return e.json()})).then(function(){var t=Object(d.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("comment inserted",a),_(n),e("OK");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(o)}))},submitLike:function(e){var t=e.poll_id,n=e.user_id;return new Promise((function(e,a){fetch("".concat(W,"/api-insert-like/?poll_id=").concat(t,"&user_id=").concat(n),{method:"POST"}).then((function(e){return e.json()})).then((function(n){console.log("like inserted",n),_(t),e("OK")})).catch(a)}))},submitPoll:function(e){var t=e.user_id,n=e.question,a=e.options;return new Promise((function(e,o){fetch("".concat(W,"/api-new-poll/?user_id=").concat(t,"&question=").concat(n,"&options=").concat(a),{method:"POST"}).then((function(e){return console.log("hello1",e),e.json()})).then((function(t){console.log("hello2",t),e("OK")})).catch(o)}))}},children:t})}var K=n(94),J=n.n(K),Y=n(156),$=n.n(Y),ee=n(154),te=n.n(ee),ne=n(153),ae=n.n(ne),oe=n(151),ie=n.n(oe),re=n(152),ce=n.n(re),se=n(72),le=n.n(se),ue=Object(p.a)((function(e){return{root:{width:"100%",marginBottom:"auto",animation:"$fade 2s linear"},avatar:{margin:e.spacing(1)},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14,opacity:1},"@keyframes fade":{"0%, 100%":{opacity:0},"50%":{opacity:1}},pos:{marginBottom:12},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},button:{margin:e.spacing(1),textTransform:"none"},buttonGroup:{margin:e.spacing(1),maxHeight:"30vh",overflow:"scroll"},barChart:{maxHeight:"20vh",overflow:"scroll"},subtitle:{display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",verticalAlign:"middle"},comment:{marginLeft:"auto",textTransform:"none"},commentBox:{display:"flex",marginTop:e.spacing(2)},like:{marginRight:"auto",marginLeft:"auto",textTransform:"none"},list:{maxHeight:"30vh",overflow:"scroll",backgroundColor:"#f5f5f5"},moreButton:{marginLeft:"auto",padding:e.spacing(.5)},titleBox:{display:"flex",alignItems:"flex-start"},vote:{marginRight:"auto",textTransform:"none"}}})),de=function(e,t){return console.log("compare",e.title===t.title,e.created_by===t.created_by,e.created_at===t.created_at,e.user_id===t.user_id,JSON.stringify(e.data)==JSON.stringify(t.data),e.poll_id===t.poll_id,e.isVoted_bool===t.isVoted_bool,JSON.stringify(e.chartData)==JSON.stringify(t.chartData),e.comment_count==t.comment_count,e.gifURL==t.gifURL,e.num_likes==t.num_likes,e.user_liked==t.user_liked),e.data!=t.data&&console.log("data",JSON.stringify(e.data),JSON.stringify(t.data),JSON.stringify(e.data)===JSON.stringify(t.data)),e.chartData!=t.chartData&&console.log("chartData",JSON.stringify(e.chartData),JSON.stringify(t.chartData),JSON.stringify(e.chartData)===JSON.stringify(t.chartData)),e.title===t.title&&e.created_by===t.created_by&&e.created_at===t.created_at&&e.user_id===t.user_id&&JSON.stringify(e.data)==JSON.stringify(t.data)&&e.poll_id===t.poll_id&&e.isVoted_bool===t.isVoted_bool&&JSON.stringify(e.chartData)==JSON.stringify(t.chartData)&&e.comment_count==t.comment_count&&e.gifURL==t.gifURL&&e.num_likes==t.num_likes&&e.user_liked==t.user_liked},je=o.a.memo((function(e){var t=e.gifURL,n=(e.addCount,e.title),o=e.created_by,i=e.user_avatar,r=e.created_at,c=e.user_id,s=(e.winner,e.data),l=e.poll_id,u=e.isVoted_bool,d=(e.isVoted_option_id,e.chartData),m=e.totalVoteCount,b=e.comment_count,p=e.num_likes,k=e.user_liked,N=ue(),S=(Object(a.useRef)(null),Object(a.useState)(!1)),w=Object(j.a)(S,2);w[0],w[1];return Object(V.jsxs)(h.a,{className:N.root,variant:"outlined",children:[Object(V.jsx)(B.a,{children:Object(V.jsxs)(g.a,{className:N.titleBox,children:[Object(V.jsxs)(f.a,{children:[Object(V.jsx)(O.a,{children:Object(V.jsx)(x.a,{alt:"Guest",className:N.avatar,src:i,children:Object(V.jsx)(le.a,{})})}),Object(V.jsx)(v.a,{primary:n,secondary:o+" "+ve(r)+" ago"})]}),Object(V.jsx)(he,{})]})}),Object(V.jsx)(me,{gifURL:t}),Object(V.jsx)(be,{user_id:c,poll_id:l,data:s,isVoted_bool:u,chartData:d}),Object(V.jsx)(y.a,{}),Object(V.jsx)(ge,{poll_id:l,user_id:c,totalVoteCount:m,user_liked:k,num_likes:p,comment_count:b})]})}),de),me=o.a.memo((function(e){var t=e.gifURL;return Object(V.jsx)("video",{width:"90%",height:"auto",loop:!0,muted:!0,autoPlay:!0,playsInline:!0,children:Object(V.jsx)("source",{src:t})})}),(function(e,t){return e.gifURL==t.gifURL})),be=o.a.memo((function(e){var t=e.data,n=e.isVoted_bool,a=e.chartData,o=e.user_id,i=e.poll_id,r=ue();return Object(V.jsxs)(V.Fragment,{children:[1==n&&Object(V.jsx)(B.a,{className:r.barChart,children:Object(V.jsx)(_,{data:a})}),Object(V.jsx)(g.a,{className:r.buttonGroup,children:0==n&&t.map((function(e,t){var n=e.text,a=e.option_id;return Object(V.jsx)(pe,{text:n,option_id:a,user_id:o,poll_id:i},t)}))})]})}),(function(e,t){return e.user_id==t.user_id&&e.poll_id==t.poll_id&&JSON.stringify(e.data)==JSON.stringify(t.data)&&e.isVoted_bool==t.isVoted_bool&&JSON.stringify(e.chartData)==JSON.stringify(t.chartData)})),pe=o.a.memo((function(e){var t=e.text,n=e.option_id,a=e.user_id,o=e.poll_id,i=ue(),r=E().submitVote,c=Object(H.b)().isAuthenticated,s=Z(),l=s.setSignInOpen,j=s.setSignInMsg,m=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=4;break}return j("Sign in to vote"),l(!0),e.abrupt("return");case 4:return e.next=6,r({user_id:a,poll_id:o,option_id:n});case 6:i=e.sent,console.log("voted",n,i);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(V.jsx)(k.a,{variant:"outlined",color:"primary",className:i.button,onClick:function(e){return m(e,n)},children:t})}),(function(e,t){return e.text==t.text&&e.option_id==t.option_id&&e.user_id==t.user_id&&e.poll_id==t.poll_id})),he=function(){var e=ue(),t=Object(a.useState)(null),n=Object(j.a)(t,2),o=n[0],i=n[1];return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(N.a,{className:e.moreButton,onClick:function(e){i(e.currentTarget)},children:Object(V.jsx)(ie.a,{})}),Object(V.jsxs)(S.a,{id:"simple-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:function(){i(null)},children:[!1,Object(V.jsx)(w.a,{children:Object(V.jsxs)(k.a,{href:"mailto:gifvote0@gmail.com",style:{textTransform:"none"},children:[Object(V.jsx)(C.a,{children:Object(V.jsx)(ce.a,{})}),Object(V.jsx)(v.a,{children:"Report"})]})})]})]})},ge=o.a.memo((function(e){var t=e.poll_id,n=e.user_id,o=e.totalVoteCount,i=e.user_liked,r=e.num_likes,c=e.comment_count,s=ue(),l=Object(a.useState)(!1),m=Object(j.a)(l,2),b=m[0],p=m[1],h=Object(a.useState)([]),f=Object(j.a)(h,2),O=f[0],v=f[1],N=Object(H.b)(),S=N.isAuthenticated,w=N.user,C=Z(),P=C.setSignInOpen,A=C.setSignInMsg,z=E(),R=z.getComments,_=z.submitComment,U=function(){var e=Object(d.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=b){e.next=5;break}return e.next=3,R(t);case 3:(n=e.sent)&&v(n);case 5:p(!b);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(d.a)(u.a.mark((function e(a){var o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S){e.next=4;break}return A("Sign in to comment"),P(!0),e.abrupt("return");case 4:return e.next=6,_({poll_id:t,user_id:n,comment:a});case 6:if("OK"!=e.sent){e.next=12;break}return e.next=10,R(t);case 10:(o=e.sent)&&v(o);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(G.a,{disableSpacing:!0,children:[Object(V.jsxs)(k.a,{className:s.vote,startIcon:Object(V.jsx)(L.a,{}),children:[o," ",1==o?" Vote":"Votes"]}),Object(V.jsx)(xe,{user_liked:i,num_likes:r,poll_id:t,user_id:n}),Object(V.jsxs)(k.a,{className:s.comment,onClick:U,startIcon:1==b?Object(V.jsx)(ae.a,{color:"primary"}):Object(V.jsx)(te.a,{}),children:[c," ",1==c?" Comment":"Comments"]})]}),Object(V.jsx)(D.a,{in:b,timeout:"auto",unmountOnExit:!0,children:Object(V.jsxs)(B.a,{children:[Object(V.jsx)(fe,{comments:O}),Object(V.jsx)(y.a,{}),Object(V.jsxs)(g.a,{className:s.commentBox,children:[S&&Object(V.jsx)(x.a,{src:w.picture,alt:w.name,className:s.avatar}),!S&&Object(V.jsx)(x.a,{alt:"Guest",className:s.avatar,children:Object(V.jsx)(le.a,{})}),Object(V.jsx)(Oe,{handleSubmitComment:T})]})]})})]})}),(function(e,t){return e.poll_id==t.poll_id&&e.user_id==t.user_id&&e.totalVoteCount==t.totalVoteCount&&e.user_liked==t.user_liked&&e.num_likes==t.num_likes&&e.comment_count==t.comment_count})),fe=o.a.memo((function(e){var t=e.comments,n=ue();return Object(V.jsx)(P.a,{className:n.list,dense:!0,children:t.map((function(e,t){var n=e.user_name,a=e.created_at,o=e.user_avatar,i=e.comment_text;return Object(V.jsxs)(f.a,{children:[Object(V.jsx)(O.a,{children:Object(V.jsx)(x.a,{src:o})}),Object(V.jsx)(v.a,{secondary:n+" "+ve(a)+" ago",primary:i})]},t)}))})}),(function(e,t){return JSON.stringify(e.comments)==JSON.stringify(t.comments)})),Oe=function(e){var t=e.handleSubmitComment,n=Object(a.useState)(""),o=Object(j.a)(n,2),i=o[0],r=o[1];return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(A.a,{label:"Add a comment...",variant:"outlined",value:i,onChange:function(e){e.preventDefault(),r(e.target.value)},fullWidth:!0}),Object(V.jsx)(N.a,{color:"primary",onClick:function(){t(i)},children:Object(V.jsx)(I.a,{})})]})},xe=o.a.memo((function(e){var t=e.user_liked,n=e.num_likes,a=e.poll_id,o=e.user_id,i=ue(),r=E().submitLike,c=Object(H.b)().isAuthenticated,s=Z(),l=s.setSignInOpen,j=s.setSignInMsg,m=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=4;break}return j("Sign in to like"),l(!0),e.abrupt("return");case 4:return e.next=6,r({poll_id:a,user_id:o});case 6:t=e.sent,console.log("submit like",t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(V.jsxs)(k.a,{className:i.like,onClick:m,startIcon:1==t?Object(V.jsx)($.a,{color:"secondary"}):Object(V.jsx)(J.a,{}),children:[n," ",1==n?" Like":"Likes"]})}),(function(e,t){return console.log("likeompare",e.user_liked==t.user_liked,e.num_likes==t.num_likes,e.poll_id==t.poll_id,e.user_id==t.user_id),e.user_liked==t.user_liked&&e.num_likes==t.num_likes&&e.poll_id==t.poll_id&&e.user_id==t.user_id})),ve=function(e){var t=new Date(e),n=new Date,a=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()),o=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds()),i=Math.floor((o-a)/1e3),r=Math.floor((o-a)/864e5);return i<60?Math.round(i)+"s":i<3600?Math.round(i/60)+"m":i<86400?Math.round(i/3600)+"h":r<7?Math.round(r)+"d":r<365?Math.round(r/7)+"w":Math.round(r/365)+"y"},ye=n(380),ke=n(383),Ne=n(382),Se=n(381),we=n(158),Ce=n.n(we),De=n(159),Pe=n.n(De),Ae=n(160),Ge=n.n(Ae),Be=n(16),ze=Object(p.a)((function(e){return{root:{},button:{transform:"scale(2)"},optionContainer:{display:"flex",justifyContent:"center"},addOptionButton:{textTransform:"none",margin:e.spacing(1)},formButton:{textTransform:"none"}}}));function Ve(){var e=ze(),t=Object(a.useState)(!1),n=Object(j.a)(t,2),o=n[0],i=n[1],r=Object(a.useState)([{val:"",err:""},{val:"",err:""}]),c=Object(j.a)(r,2),s=c[0],l=c[1],m=Object(a.useState)({val:"",err:""}),b=Object(j.a)(m,2),p=b[0],h=b[1],f=Object(H.b)(),O=(f.loginWithRedirect,f.isAuthenticated),x=Z(),v=x.setSignInOpen,y=x.setSignInMsg,S=E(),w=S.refreshDataset,C=S.submitPoll,D=S.userId,P=Object(Be.f)(),G=function(){l([{val:"",err:""},{val:"",err:""}]),h({val:"",err:""}),i(!1)},B=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=p.val.trim()){e.next=3;break}return h({val:p.val,err:"Cannot be blank"}),e.abrupt("return");case 3:t=0;case 4:if(!(t<s.length)){e.next=13;break}if(""!=s[t].val.trim()){e.next=10;break}return(n=Object(q.a)(s))[t].err="Cannot be blank",l(n),e.abrupt("return");case 10:t++,e.next=4;break;case 13:for(a=Object(q.a)(s),o=0;o<a.length;o++)a[o]=a[o].val.trim();return e.next=17,C({user_id:D,question:p.val.trim(),options:JSON.stringify(a)});case 17:"OK"==e.sent&&(w(),G(),P.push("/your"));case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(V.jsxs)("div",{className:e.root,children:[Object(V.jsx)(N.a,{color:"primary","aria-label":"new poll",component:"span",onClick:function(){if(!O)return y("Sign in to create poll"),void v(!0);i(!0)},className:e.button,children:Object(V.jsx)(Ce.a,{})}),Object(V.jsxs)(ye.a,{open:o,onClose:G,"aria-labelledby":"form-dialog-title",children:[Object(V.jsx)(Se.a,{id:"form-dialog-title",children:"Create New Poll"}),Object(V.jsxs)(Ne.a,{children:[Object(V.jsx)(A.a,{autoFocus:!0,error:""!=p.err,helperText:p.err,margin:"dense",id:"name",label:"Question",value:p.val,onChange:function(e){return h({val:e.target.value.slice(0,Math.min(e.target.value.length,50)),err:""})},fullWidth:!0}),s.map((function(t,n){var a=t.val,o=t.err;return Object(V.jsxs)(g.a,{className:e.optionContainer,children:[Object(V.jsx)(A.a,{error:""!=o,helperText:o,margin:"dense",id:"name",label:"Option "+(n+1),value:a,onChange:function(e){return function(e,t){if(e.preventDefault(),!(e.target.value.length>20)){var n=Object(q.a)(s);n[t]={val:e.target.value,err:""},l(n),console.log(e.target.value,t)}}(e,n)},fullWidth:!0}),Object(V.jsx)(N.a,{"aria-label":"delete",onClick:function(e){return function(e,t){e.preventDefault();var n=Object(q.a)(s);n.splice(t,1),l(n)}(e,n)},disabled:n in[0,1],children:Object(V.jsx)(Pe.a,{})})]},n)})),Object(V.jsx)(k.a,{className:e.addOptionButton,variant:"outlined",color:"primary",startIcon:Object(V.jsx)(Ge.a,{}),onClick:function(){s.length<10&&l([].concat(Object(q.a)(s),[{val:"",err:""}]))},disabled:s.length>=10,children:"Add Option"})]}),Object(V.jsxs)(ke.a,{children:[Object(V.jsx)(k.a,{onClick:G,color:"secondary",variant:"outlined",className:e.formButton,children:"Cancel"}),Object(V.jsx)(k.a,{onClick:B,color:"primary",variant:"contained",className:e.formButton,children:"Create"})]})]})]})}var Re=n(113);n(379),n(390),Object(p.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));var _e=n(384),Ue=n(386),Le=n(385),Te=n(162),Ie=n.n(Te),He=n(392),Xe=n(117),Ze=n(164),Qe=n.n(Ze),qe=n(165),Me=n.n(qe),We=n(163),Ee=n.n(We),Fe=n(114),Ke=n.n(Fe),Je=n(161),Ye=n.n(Je),$e=n(48),et=Object(p.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,color:"black"},toolbar:{backgroundColor:"#fafafa"},passiveLink:{display:"flex",alignItems:"center",color:"rgba(0, 0, 0, 0.54)",textDecoration:"none","&:hover":{textDecoration:"underline"}},activeLink:{display:"flex",color:"rgba(34, 191, 160, 1)",textDecoration:"underline"},loginButton:{marginLeft:e.spacing(2)},breadcrumbs:{marginLeft:"auto"},logo:{height:"35px",width:"auto",maxWidth:"50vw",margin:e.spacing(1)},icon:{marginRight:e.spacing(.5),width:20,height:20}}}));function tt(e){e.isOpen,e.setIsOpen;var t=et(),n=o.a.useState(!0),a=Object(j.a)(n,2),i=(a[0],a[1],o.a.useState(null)),r=Object(j.a)(i,2),c=r[0],s=(r[1],Boolean(c),Object(H.b)());s.loginWithRedirect,s.logout,s.isAuthenticated,s.user;return Object(V.jsx)("div",{className:t.root,children:Object(V.jsx)(_e.a,{position:"fixed",children:Object(V.jsxs)(Le.a,{className:t.toolbar,children:[Object(V.jsx)(at,{}),Object(V.jsx)("img",{className:t.logo,alt:"GIF Vote",src:"data:image/png;base64,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"}),Object(V.jsx)(nt,{})]})})})}var nt=function(){var e=et(),t=Object(H.b)().isAuthenticated;return Object(V.jsxs)(He.a,{"aria-label":"breadcrumb",className:e.breadcrumbs,children:[Object(V.jsxs)($e.b,{className:e.passiveLink,activeClassName:e.activeLink,exact:!0,to:"/",children:[Object(V.jsx)(L.a,{className:e.icon}),"Most Votes"]}),Object(V.jsxs)($e.b,{className:e.passiveLink,activeClassName:e.activeLink,to:"/most-like",children:[Object(V.jsx)(J.a,{className:e.icon}),"Most Likes"]}),Object(V.jsxs)($e.b,{className:e.passiveLink,activeClassName:e.activeLink,to:"/latest",children:[Object(V.jsx)(Ke.a,{className:e.icon}),"Latest"]}),t&&Object(V.jsxs)($e.b,{className:e.passiveLink,activeClassName:e.activeLink,to:"/your",children:[Object(V.jsx)(Ye.a,{className:e.icon}),"Your Polls"]})]})},at=function(){var e=et(),t=Object(a.useState)(!1),n=Object(j.a)(t,2),o=n[0],i=n[1],r=Object(H.b)(),c=r.isAuthenticated,s=r.user,l=r.loginWithRedirect,u=r.logout;return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(N.a,{edge:"start",className:e.menuButton,color:"textPrimary","aria-label":"menu",onClick:function(){return i(!o)},children:Object(V.jsx)(Ie.a,{})}),Object(V.jsx)(Ue.a,{anchor:"left",open:o,onClose:function(){i(!1)},children:Object(V.jsxs)(P.a,{children:[Object(V.jsxs)(f.a,{children:[Object(V.jsxs)(O.a,{children:[c&&Object(V.jsx)(x.a,{src:s.picture,alt:s.name}),!c&&Object(V.jsx)(x.a,{alt:"Guest",children:Object(V.jsx)(le.a,{})})]}),Object(V.jsx)(v.a,{primary:s?s.name:"Guest",secondary:s?s.email:"Sign in to see your profile"}),c&&Object(V.jsx)(N.a,{className:e.loginButton,onClick:u,children:Object(V.jsx)(Xe.b,{})}),!c&&Object(V.jsx)(N.a,{className:e.loginButton,onClick:l,children:Object(V.jsx)(Xe.a,{})})]}),Object(V.jsx)(y.a,{}),Object(V.jsxs)(f.a,{button:!0,children:[Object(V.jsx)(C.a,{children:Object(V.jsx)(Ee.a,{})}),Object(V.jsx)(v.a,{primary:"Give Feedback",secondary:"Help us improve GIF Votes"})]}),Object(V.jsx)(y.a,{}),Object(V.jsxs)(f.a,{button:!0,children:[Object(V.jsx)(C.a,{children:Object(V.jsx)(Qe.a,{})}),Object(V.jsx)(v.a,{primary:"Settings"})]}),Object(V.jsxs)(f.a,{button:!0,children:[Object(V.jsx)(C.a,{children:Object(V.jsx)(Me.a,{})}),Object(V.jsx)(v.a,{primary:"About"})]})]})})]})},ot=n(73),it=n(166),rt=n.n(it),ct=Object(p.a)((function(e){return{root:{},title:{display:"flex",flexDirection:"row"},titleText:{alignSelf:"center",marginRight:e.spacing(2)},closeButton:{marginLeft:"auto",color:e.palette.grey[500]},video:{marginLeft:"auto",marginRight:"auto"},videoContainer:{display:"flex",flexDirection:"column",justifyContent:"center"}}}));var st=function(e){var t=ct(),n=Z(),o=n.signInOpen,i=n.setSignInOpen,r=n.signInMsg,c=(n.setSignInMsg,Object(H.b)()),s=c.loginWithRedirect,l=(c.loginWithPopup,c.isAuthenticated);return Object(a.useEffect)((function(){l&&o&&i(!1)}),[l]),Object(V.jsx)("div",{children:Object(V.jsxs)(ye.a,{open:o,onClose:function(){i(!1)},className:t.root,children:[Object(V.jsxs)(Se.a,{disableTypography:!0,className:t.title,children:[Object(V.jsx)(ot.a,{variant:"h4",className:t.titleText,children:r}),Object(V.jsx)(N.a,{"aria-label":"close",className:t.closeButton,onClick:function(){i(!1)},children:Object(V.jsx)(rt.a,{})})]}),Object(V.jsxs)(Ne.a,{dividers:!0,className:t.videoContainer,children:[Object(V.jsx)(ot.a,{gutterBottom:!0,children:"Here's a GIF to start your day!"}),Object(V.jsx)("video",{width:"60%",height:"auto",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:t.video,children:Object(V.jsx)("source",{src:function(){var e=["https://media0.giphy.com/media/xT9DPnxOqFNu0vObyU/giphy-downsized-small.mp4?cid=ecf05e477ybh0yl5kdyzkwyz5g7ljply8vk3ixadsfv9ywjz&rid=giphy-downsized-small.mp4&ct=g","https://media0.giphy.com/media/l2Sq3jYHktALKdQJO/giphy-downsized-small.mp4?cid=ecf05e477ybh0yl5kdyzkwyz5g7ljply8vk3ixadsfv9ywjz&rid=giphy-downsized-small.mp4&ct=g","https://media1.giphy.com/media/ur5T6Wuw4xK2afXVmd/giphy-downsized-small.mp4?cid=ecf05e477ybh0yl5kdyzkwyz5g7ljply8vk3ixadsfv9ywjz&rid=giphy-downsized-small.mp4&ct=g","https://media2.giphy.com/media/26xBSxisb1xYv1dja/giphy-downsized-small.mp4?cid=ecf05e477ybh0yl5kdyzkwyz5g7ljply8vk3ixadsfv9ywjz&rid=giphy-downsized-small.mp4&ct=g","https://media0.giphy.com/media/rVaFLAGrPcmlQR1nmt/giphy-downsized-small.mp4?cid=ecf05e477ybh0yl5kdyzkwyz5g7ljply8vk3ixadsfv9ywjz&rid=giphy-downsized-small.mp4&ct=g","https://media1.giphy.com/media/xT9DPPqwOCoxi3ASWc/giphy-downsized-small.mp4?cid=ecf05e477ybh0yl5kdyzkwyz5g7ljply8vk3ixadsfv9ywjz&rid=giphy-downsized-small.mp4&ct=g","https://media0.giphy.com/media/xT9DPGsywQ5zMfR6KY/giphy-downsized-small.mp4?cid=ecf05e477ybh0yl5kdyzkwyz5g7ljply8vk3ixadsfv9ywjz&rid=giphy-downsized-small.mp4&ct=g","https://media4.giphy.com/media/26n6yBeeXFU8C5j8c/giphy-downsized-small.mp4?cid=ecf05e471vfffwv91zo73j3x8h4q83yeezw44y1j75uf3foo&rid=giphy-downsized-small.mp4&ct=g","https://media4.giphy.com/media/l1BgRkTSJlYgCVqHm/giphy-downsized-small.mp4?cid=ecf05e47lhwhdp46xml09m3af3257q7u8dtvdxamfntftgnh&rid=giphy-downsized-small.mp4&ct=g"];return e[Math.floor(Math.random()*e.length)]}()})})]}),Object(V.jsx)(k.a,{variant:"contained",color:"primary",onClick:s,children:"Sign In"})]})})},lt=n(387);n(316);var ut=Object(p.a)((function(e){return{root:{marginTop:e.spacing(8)},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},gridContainer:{display:"flex",justifyContent:"center",padding:e.spacing(2)},itemContainer:{display:"flex",justifyContent:"center",padding:e.spacing(2)},newPollDialog:{position:"fixed",bottom:"5vmin",right:"5vmin"}}}));var dt=function(e){var t=e.personal,n=e.sortBy,o=ut(),i=Object(a.useState)(0),r=Object(j.a)(i,2),c=(r[0],r[1],E()),s=c.data,l=(c.getUserData,c.getDataset,c.updateDataset,c.refreshDataset),u=c.handleFetchMoreData,d=(c.isPersonal,c.setIsPersonal),m=c.hasMore,b=c.userId,p=c.setSortBy;return Object(a.useEffect)((function(){d(t),p(n)}),[t,n]),Object(a.useEffect)((function(){l()}),[b]),Object(V.jsxs)("div",{className:o.root,children:[Object(V.jsx)(Re.a,{dataLength:s.length,next:u,hasMore:m,loader:Object(V.jsx)("h4",{children:"Loading..."}),endMessage:Object(V.jsx)("p",{style:{textAlign:"center"},children:Object(V.jsx)("b",{children:"Yay! You have seen it all"})}),children:Object(V.jsx)(lt.a,{container:!0,spacing:0,className:o.gridContainer,children:s.map((function(e,t){var n=e.poll_text,a=e.gifURL,i=e.created_by,r=e.user_avatar,c=e.created_at,s=e.winner,l=e.chartData,u=e.voteData,d=e.poll_id,j=e.isVoted_bool,m=(e.isVoted_option_id,e.totalVoteCount),p=e.comment_count,h=e.num_likes,g=e.user_liked;return Object(V.jsx)(lt.a,{item:!0,xs:12,sm:6,lg:4,className:o.itemContainer,children:Object(V.jsx)(je,{gifURL:a,user_id:b,title:n,created_by:i,user_avatar:r,created_at:c,winner:s,chartData:l,data:u,poll_id:d,isVoted_bool:j,totalVoteCount:m,comment_count:p,num_likes:h,user_liked:g},t)},t)}))})}),Object(V.jsx)("div",{className:o.newPollDialog,children:Object(V.jsx)(Ve,{})})]})},jt=Object(p.a)((function(e){return{root:{}}}));var mt=function(){jt();var e=Object(a.useState)(0),t=Object(j.a)(e,2),n=(t[0],t[1],Object(a.useState)(!0)),o=Object(j.a)(n,2),i=o[0],r=o[1],c=Object(H.b)(),s=c.isAuthenticated,l=c.user,p=(c.logout,c.isLoading,E()),h=(p.data,p.getUserData),g=(p.getDataset,p.updateDataset,p.refreshDataset,p.handleFetchMoreData,p.isPersonal,p.setIsPersonal,p.hasMore,p.userId,p.setSortBy,Object(a.useState)(!1)),f=Object(j.a)(g,2),O=f[0],x=f[1];return Object(a.useEffect)(Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=7;break}return console.log("authenticated!",l),x(!0),e.next=5,h(l);case 5:t=e.sent,console.log("user data",t);case 7:case"end":return e.stop()}}),e)}))),[s]),Object(V.jsx)($e.a,{children:Object(V.jsxs)("div",{className:"App",children:[Object(V.jsx)(tt,{isOpen:i,setIsOpen:r}),Object(V.jsx)(m.a,{open:O,autoHideDuration:6e3,onClose:function(){return x(!1)},message:"Signed In!",TransitionComponent:b.a}),Object(V.jsx)(st,{}),Object(V.jsxs)(Be.c,{children:[Object(V.jsx)(Be.a,{path:"/your",children:Object(V.jsx)(dt,{personal:1,sortBy:"time"})}),Object(V.jsx)(Be.a,{path:"/most-like",children:Object(V.jsx)(dt,{personal:0,sortBy:"like"})}),Object(V.jsx)(Be.a,{path:"/latest",children:Object(V.jsx)(dt,{personal:0,sortBy:"time"})}),Object(V.jsx)(Be.a,{path:"/",children:Object(V.jsx)(dt,{personal:0,sortBy:"vote"})})]})]})})},bt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,397)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),o(e),i(e),r(e)}))};z.b.font.family=["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),z.b.font.size=10,console.log("default",z.b);var pt="dev-clx9x5qx.us.auth0.com",ht="h579hxVGmzOijJ5UxLSEDzMlfEaGfjQD";console.log("domain",pt,ht);var gt=Object(i.a)({palette:{primary:{main:"#22bfa0"}}});s.a.render(Object(V.jsx)(H.a,{domain:pt,clientId:ht,redirectUri:window.location.origin,children:Object(V.jsx)(Q,{children:Object(V.jsx)(F,{children:Object(V.jsx)(r.a,{theme:gt,children:Object(V.jsx)(mt,{})})})})}),document.getElementById("root")),bt()}},[[317,1,2]]]);
//# sourceMappingURL=main.aa213497.chunk.js.map